function g(a){throw a;}
var k=void 0,m=!0,n=null,r=!1,v,aa=aa||{},w=this,ba=function(){},ca=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=
typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b},z=function(a){return a!==k},da=function(a){return"array"==ca(a)},ea=function(a){var b=ca(a);return"array"==b||"object"==b&&"number"==typeof a.length},A=function(a){return"string"==typeof a},fa=function(a){return"number"==typeof a},ga=function(a){return"function"==ca(a)},oa=function(a){var b=typeof a;return"object"==b&&a!=n||"function"==
b},ra=function(a){return a[pa]||(a[pa]=++qa)},pa="closure_uid_"+(1E9*Math.random()>>>0),qa=0,sa=function(a,b,c){return a.call.apply(a.bind,arguments)},ta=function(a,b,c){a||g(Error());if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},B=function(a,b,c){B=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?
sa:ta;return B.apply(n,arguments)},ua=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}},va=Date.now||function(){return+new Date},wa=function(a,b){var c=a.split("."),d=w;!(c[0]in d)&&d.execScript&&d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&b!==k?d[e]=b:d=d[e]?d[e]:d[e]={}},C=function(a,b){function c(){}c.prototype=b.prototype;a.u=b.prototype;a.prototype=
new c};Function.prototype.bind=Function.prototype.bind||function(a,b){if(1<arguments.length){var c=Array.prototype.slice.call(arguments,1);c.unshift(this,a);return B.apply(n,c)}return B(this,a)};var Ca=function(a){if(!xa.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(ya,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(za,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(Aa,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(Ba,"&quot;"));return a},ya=/&/g,za=/</g,Aa=/>/g,Ba=/\"/g,xa=/[&<>\"]/,Da=function(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})},Ea=function(a){var b=A(k)?"undefined".replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"):"\\s";return a.replace(RegExp("(^"+
(b?"|["+b+"]+":"")+")([a-z])","g"),function(a,b,e){return b+e.toUpperCase()})};var Fa=function(a,b){this.width=a;this.height=b};v=Fa.prototype;v.ea=function(){return new Fa(this.width,this.height)};v.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};v.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};v.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};v.scale=function(a,b){var c=fa(b)?b:a;this.width*=a;this.height*=c;return this};var Ga,Ha,Ia,Ja,Ka,La,Ma=function(){return w.navigator?w.navigator.userAgent:n};Ja=Ia=Ha=Ga=r;var Na;if(Na=Ma()){var Oa=w.navigator;Ga=0==Na.indexOf("Opera");Ha=!Ga&&-1!=Na.indexOf("MSIE");Ia=!Ga&&-1!=Na.indexOf("WebKit");Ja=!Ga&&!Ia&&"Gecko"==Oa.product}var Pa=Ga,E=Ha,Qa=Ja,F=Ia,Ra=w.navigator,Sa=Ra&&Ra.platform||"";Ka=-1!=Sa.indexOf("Mac");La=-1!=Sa.indexOf("Win");var Ta=-1!=Sa.indexOf("Linux"),Ua=function(){var a=w.document;return a?a.documentMode:k},Va;
t:{var Wa="",Xa;if(Pa&&w.opera)var Ya=w.opera.version,Wa="function"==typeof Ya?Ya():Ya;else if(Qa?Xa=/rv\:([^\);]+)(\)|;)/:E?Xa=/MSIE\s+([^\);]+)(\)|;)/:F&&(Xa=/WebKit\/(\S+)/),Xa)var Za=Xa.exec(Ma()),Wa=Za?Za[1]:"";if(E){var $a=Ua();if($a>parseFloat(Wa)){Va=String($a);break t}}Va=Wa}
var ab=Va,bb={},G=function(a){var b;if(!(b=bb[a])){b=0;for(var c=String(ab).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var h=c[f]||"",l=d[f]||"",p=RegExp("(\\d*)(\\D*)","g"),q=RegExp("(\\d*)(\\D*)","g");do{var s=p.exec(h)||["","",""],t=q.exec(l)||["","",""];if(0==s[0].length&&0==t[0].length)break;b=((0==s[1].length?0:parseInt(s[1],10))<(0==t[1].length?0:parseInt(t[1],10))?-1:(0==s[1].length?
0:parseInt(s[1],10))>(0==t[1].length?0:parseInt(t[1],10))?1:0)||((0==s[2].length)<(0==t[2].length)?-1:(0==s[2].length)>(0==t[2].length)?1:0)||(s[2]<t[2]?-1:s[2]>t[2]?1:0)}while(0==b)}b=bb[a]=0<=b}return b},cb=w.document,db=!cb||!E?k:Ua()||("CSS1Compat"==cb.compatMode?parseInt(ab,10):5);var eb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),gb=function(a){if(fb){fb=r;var b=w.location;if(b){var c=b.href;if(c&&(c=(c=gb(c)[3]||n)&&decodeURIComponent(c))&&c!=b.hostname)fb=m,g(Error())}}return a.match(eb)},fb=F;var hb=Array.prototype,ib=hb.indexOf?function(a,b,c){return hb.indexOf.call(a,b,c)}:function(a,b,c){c=c==n?0:0>c?Math.max(0,a.length+c):c;if(A(a))return!A(b)||1!=b.length?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},jb=hb.forEach?function(a,b,c){hb.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=A(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},lb=function(a){var b;t:{b=kb;for(var c=a.length,d=A(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(k,d[e],
e,a)){b=e;break t}b=-1}return 0>b?n:A(a)?a.charAt(b):a[b]},mb=function(a,b){var c=ib(a,b),d;(d=0<=c)&&hb.splice.call(a,c,1);return d},nb=function(a){return hb.concat.apply(hb,arguments)},ob=function(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]},pb=function(a,b,c){return 2>=arguments.length?hb.slice.call(a,b):hb.slice.call(a,b,c)};var qb="StopIteration"in w?w.StopIteration:Error("StopIteration"),rb=function(){};rb.prototype.next=function(){g(qb)};rb.prototype.Yg=function(){return this};var sb=function(a,b){for(var c in a)b.call(k,a[c],c,a)},tb=function(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b},ub=function(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b},wb=function(){var a=vb,b;for(b in a)return r;return m},xb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),yb=function(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<xb.length;f++)c=xb[f],Object.prototype.hasOwnProperty.call(d,
c)&&(a[c]=d[c])}};var zb=function(a){if("function"==typeof a.ja)return a.ja();if(A(a))return a.split("");if(ea(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return tb(a)},Ab=function(a,b,c){if("function"==typeof a.forEach)a.forEach(b,c);else if(ea(a)||A(a))jb(a,b,c);else{var d;if("function"==typeof a.Ia)d=a.Ia();else if("function"!=typeof a.ja)if(ea(a)||A(a)){d=[];for(var e=a.length,f=0;f<e;f++)d.push(f)}else d=ub(a);else d=k;for(var e=zb(a),f=e.length,h=0;h<f;h++)b.call(c,e[h],d&&d[h],a)}};var Bb=function(a,b){this.X={};this.j=[];var c=arguments.length;if(1<c){c%2&&g(Error("Uneven number of arguments"));for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof Bb?(c=a.Ia(),d=a.ja()):(c=ub(a),d=tb(a));for(var e=0;e<c.length;e++)this.set(c[e],d[e])}};v=Bb.prototype;v.h=0;v.Hb=0;v.ja=function(){Cb(this);for(var a=[],b=0;b<this.j.length;b++)a.push(this.X[this.j[b]]);return a};v.Ia=function(){Cb(this);return this.j.concat()};v.Gb=function(a){return Db(this.X,a)};
v.clear=function(){this.X={};this.Hb=this.h=this.j.length=0};v.remove=function(a){return Db(this.X,a)?(delete this.X[a],this.h--,this.Hb++,this.j.length>2*this.h&&Cb(this),m):r};var Cb=function(a){if(a.h!=a.j.length){for(var b=0,c=0;b<a.j.length;){var d=a.j[b];Db(a.X,d)&&(a.j[c++]=d);b++}a.j.length=c}if(a.h!=a.j.length){for(var e={},c=b=0;b<a.j.length;)d=a.j[b],Db(e,d)||(a.j[c++]=d,e[d]=1),b++;a.j.length=c}};Bb.prototype.get=function(a,b){return Db(this.X,a)?this.X[a]:b};
Bb.prototype.set=function(a,b){Db(this.X,a)||(this.h++,this.j.push(a),this.Hb++);this.X[a]=b};Bb.prototype.ea=function(){return new Bb(this)};Bb.prototype.Yg=function(a){Cb(this);var b=0,c=this.j,d=this.X,e=this.Hb,f=this,h=new rb;h.next=function(){for(;;){e!=f.Hb&&g(Error("The map has changed since the iterator was created"));b>=c.length&&g(qb);var h=c[b++];return a?h:d[h]}};return h};var Db=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var Eb=function(a,b){var c;if(a instanceof Eb)this.N=z(b)?b:a.N,Fb(this,a.jb),c=a.hc,Gb(this),this.hc=c,c=a.zb(),Gb(this),this.ab=c,Hb(this,a.Fb),c=a.Db,Gb(this),this.Db=c,Ib(this,a.ka.ea()),c=a.gc,Gb(this),this.gc=c;else if(a&&(c=gb(String(a)))){this.N=!!b;Fb(this,c[1]||"",m);var d=c[2]||"";Gb(this);this.hc=d?decodeURIComponent(d):"";d=c[3]||"";Gb(this);this.ab=d?decodeURIComponent(d):"";Hb(this,c[4]);d=c[5]||"";Gb(this);this.Db=d?decodeURIComponent(d):"";Ib(this,c[6]||"",m);c=c[7]||"";Gb(this);
this.gc=c?decodeURIComponent(c):""}else this.N=!!b,this.ka=new Jb(n,0,this.N)};v=Eb.prototype;v.jb="";v.hc="";v.ab="";v.Fb=n;v.Db="";v.gc="";v.ah=r;v.N=r;
v.toString=function(){var a=[],b=this.jb;b&&a.push(Nb(b,Ob),":");if(b=this.zb()){a.push("//");var c=this.hc;c&&a.push(Nb(c,Ob),"@");a.push(encodeURIComponent(String(b)));b=this.Fb;b!=n&&a.push(":",String(b))}if(b=this.Db)this.ab&&"/"!=b.charAt(0)&&a.push("/"),a.push(Nb(b,"/"==b.charAt(0)?Pb:Qb));(b=this.ka.toString())&&a.push("?",b);(b=this.gc)&&a.push("#",Nb(b,Rb));return a.join("")};v.ea=function(){return new Eb(this)};
var Fb=function(a,b,c){Gb(a);a.jb=c?b?decodeURIComponent(b):"":b;a.jb&&(a.jb=a.jb.replace(/:$/,""))};Eb.prototype.zb=function(){return this.ab};var Hb=function(a,b){Gb(a);b?(b=Number(b),(isNaN(b)||0>b)&&g(Error("Bad port number "+b)),a.Fb=b):a.Fb=n},Ib=function(a,b,c){Gb(a);b instanceof Jb?(a.ka=b,a.ka.md(a.N)):(c||(b=Nb(b,Sb)),a.ka=new Jb(b,0,a.N))};Eb.prototype.Ee=function(){return this.ka.toString()};var Gb=function(a){a.ah&&g(Error("Tried to modify a read-only Uri"))};
Eb.prototype.md=function(a){this.N=a;this.ka&&this.ka.md(a);return this};
var Nb=function(a,b){return A(a)?encodeURI(a).replace(b,Tb):n},Tb=function(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)},Ob=/[#\/\?@]/g,Qb=/[\#\?:]/g,Pb=/[\#\?]/g,Sb=/[\#\?@]/g,Rb=/#/g,Jb=function(a,b,c){this.K=a||n;this.N=!!c},Vb=function(a){if(!a.l&&(a.l=new Bb,a.h=0,a.K))for(var b=a.K.split("&"),c=0;c<b.length;c++){var d=b[c].indexOf("="),e=n,f=n;0<=d?(e=b[c].substring(0,d),f=b[c].substring(d+1)):e=b[c];e=decodeURIComponent(e.replace(/\+/g," "));e=Ub(a,e);a.add(e,f?
decodeURIComponent(f.replace(/\+/g," ")):"")}};v=Jb.prototype;v.l=n;v.h=n;v.add=function(a,b){Vb(this);this.K=n;a=Ub(this,a);var c=this.l.get(a);c||this.l.set(a,c=[]);c.push(b);this.h++;return this};v.remove=function(a){Vb(this);a=Ub(this,a);return this.l.Gb(a)?(this.K=n,this.h-=this.l.get(a).length,this.l.remove(a)):r};v.clear=function(){this.l=this.K=n;this.h=0};v.Gb=function(a){Vb(this);a=Ub(this,a);return this.l.Gb(a)};
v.Ia=function(){Vb(this);for(var a=this.l.ja(),b=this.l.Ia(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};v.ja=function(a){Vb(this);var b=[];if(a)this.Gb(a)&&(b=nb(b,this.l.get(Ub(this,a))));else{a=this.l.ja();for(var c=0;c<a.length;c++)b=nb(b,a[c])}return b};v.set=function(a,b){Vb(this);this.K=n;a=Ub(this,a);this.Gb(a)&&(this.h-=this.l.get(a).length);this.l.set(a,[b]);this.h++;return this};
v.get=function(a,b){var c=a?this.ja(a):[];return 0<c.length?String(c[0]):b};v.toString=function(){if(this.K)return this.K;if(!this.l)return"";for(var a=[],b=this.l.Ia(),c=0;c<b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.ja(d),f=0;f<d.length;f++){var h=e;""!==d[f]&&(h+="="+encodeURIComponent(String(d[f])));a.push(h)}return this.K=a.join("&")};v.ea=function(){var a=new Jb;a.K=this.K;this.l&&(a.l=this.l.ea(),a.h=this.h);return a};
var Ub=function(a,b){var c=String(b);a.N&&(c=c.toLowerCase());return c};Jb.prototype.md=function(a){a&&!this.N&&(Vb(this),this.K=n,Ab(this.l,function(a,c){var d=c.toLowerCase();c!=d&&(this.remove(c),this.remove(d),0<a.length&&(this.K=n,this.l.set(Ub(this,d),ob(a)),this.h+=a.length))},this));this.N=a};var Wb=function(a,b){a!=n&&this.append.apply(this,arguments)};v=Wb.prototype;v.Wa="";v.set=function(a){this.Wa=""+a};v.append=function(a,b,c){this.Wa+=a;if(b!=n)for(var d=1;d<arguments.length;d++)this.Wa+=arguments[d];return this};v.clear=function(){this.Wa=""};v.toString=function(){return this.Wa};var Xb=function(){};Xb.prototype.toString=function(){return this.b.toString()};var Yb=function(a){var b=a;a=[];b||(b=[]);this.b=b;if(a)for(b=0;b<a.length;b++)this.b[a[b]]=this.b[a[b]]||[]};C(Yb,Xb);v=Yb.prototype;v.Sb=function(){return this.b[0]};v.Ea=function(a){this.b[0]=a};v.wc=function(){return this.b[11]};v.rb=function(a){this.b[11]=a};v.vc=function(){return this.b[12]};v.pb=function(a){this.b[12]=a};v.ud=function(){return this.b[32]};v.Pc=function(a){this.b[32]=a};v.wd=function(){return this.b[1]!=n?this.b[1]:r};v.ya=function(a){this.b[1]=a};v.zd=function(){return this.b[31]};
v.fc=function(a){this.b[31]=a};v.xd=function(){return this.b[18]!=n?this.b[18]:r};v.za=function(a){this.b[18]=a};v.vd=function(){return this.b[19]!=n?this.b[19]:r};v.eb=function(a){this.b[19]=a};v.Ad=function(){return this.b[2]!=n?this.b[2]:r};v.Yc=function(a){this.b[2]=a};v.wf=function(){return this.b[3]!=n?this.b[3]:r};v.vg=function(a){this.b[3]=a};v.Df=function(){return this.b[8]};v.Mg=function(a){this.b[8]=a};v.Ef=function(){return this.b[9]};v.Ng=function(a){this.b[9]=a};v.Ff=function(){return this.b[10]};
v.Og=function(a){this.b[10]=a};v.Cf=function(){return this.b[13]!=n?this.b[13]:r};v.Cg=function(a){this.b[13]=a};v.Dd=function(){return this.b[33]!=n?this.b[33]:r};v.$c=function(a){this.b[33]=a};v.Cd=function(){return this.b[14]};v.nd=function(a){this.b[14]=a};v.Fd=function(){return this.b[15]};v.pd=function(a){this.b[15]=a};v.Gd=function(){return this.b[16]};v.Wc=function(a){this.b[16]=a};v.Nd=function(){return this.b[17]};v.Dg=function(a){this.b[17]=a};v.xf=function(){return this.b[21]};
v.Bg=function(a){this.b[21]=a};v.Bd=function(){return this.b[20]};v.Zc=function(a){this.b[20]=a};v.tf=function(){return this.b[24]};v.Ag=function(a){this.b[24]=a};v.qf=function(){return this.b[22]!=n?this.b[22]:r};v.rg=function(a){this.b[22]=a};v.Gf=function(){return this.b[23]};v.Sg=function(a){this.b[23]=a};v.Hf=function(){return this.b[35]};v.Tg=function(a){this.b[35]=a};v.Bf=function(){return this.b[5]!=n?this.b[5]:r};v.xg=function(a){this.b[5]=a};v.Af=function(){return this.b[25]};
v.wg=function(a){this.b[25]=a};v.Ed=function(){return this.b[29]};v.ad=function(a){this.b[29]=a};v.Md=function(){return this.b[30]};v.fd=function(a){this.b[30]=a};v.Jd=function(){return this.b[26]};v.Xc=function(a){this.b[26]=a};v.zf=function(){return this.b[27]};v.Rg=function(a){this.b[27]=a};v.Kd=function(){return this.b[34]!=n?this.b[34]:r};v.dd=function(a){this.b[34]=a};v.Ld=function(){return this.b[40]!=n?this.b[40]:r};v.ed=function(a){this.b[40]=a};
v.Hd=function(){return this.b[36]!=n?this.b[36]:r};v.bd=function(a){this.b[36]=a};v.pf=function(){return this.b[37]};v.qg=function(a){this.b[37]=a};v.of=function(){return this.b[38]};v.pg=function(a){this.b[38]=a};v.Id=function(){return this.b[39]};v.cd=function(a){this.b[39]=a};v.vf=function(){return this.b[41]};v.ug=function(a){this.b[41]=a};v.uf=function(){return this.b[42]};v.tg=function(a){this.b[42]=a};v.yf=function(){return this.b[43]};v.Lg=function(a){this.b[43]=a};var I=function(){Yb.call(this)};C(I,Yb);I.prototype.sg=function(a){this.$g=a};I.prototype.sf=function(){return this.$g};I.prototype.Qg=function(a){this.Zg=a};I.prototype.rf=function(){return this.Zg};var Zb=function(){};
Zb.prototype.parse=function(a){var b=new I,c=new I;if(""==a)a=m;else{a=a.split("-");for(var d=m,e=0;e<a.length;e++){var f=a[e],h=f.substring(0,1);if("O"==h||"J"==h){for(h="";12>h.length&&e<a.length;)f=a[e],h=h+"-"+f,e++;f=h.substring(1)}if(0==f.length)f=r;else{var l,h=f.substring(0,1);l=f.substring(1);if("f"==h.toLowerCase()&&("h"==l||"v"==l||"g"==l)||"c"==h.toLowerCase()&&"i"==l||"r"==h.toLowerCase()&&"w"==l||"n"==h.toLowerCase()&&"o"==l||"n"==h.toLowerCase()&&"s"==l)h=f,l="";"n"==h.toLowerCase()&&
(2<l.length&&"t0"==l.substring(0,2))&&(h=f.substring(0,3),l=f.substring(3));"r"==h.toLowerCase()&&(2==l.length&&"wu"==l.substring(0,2))&&(h=f.substring(0,3),l="");l=[h,l];h=l[0];l=l[1];var p=b,q=c,s=k;switch(h.toLowerCase()){case "e":case "w":case "x":case "y":case "z":case "l":s=this.Xe(h,l,p,q,$b(h))==n?m:r;break;case "a":case "d":case "fh":case "fv":case "ci":case "g":case "fg":case "i":case "n":case "no":case "ns":case "rw":case "rwu":case "u":case "v":s=this.We(h,l,p,q,ac(h))==n?m:r;break;case "f":case "j":case "q":case "t":case "nt0":s=
this.Ye(h,l,p,q,bc(h))==n?m:r;break;case "b":case "c":case "h":case "k":case "o":case "p":case "r":case "s":e:{var s=[],t=[];this.Xg(h,s,t);var u=[],y=[],x=k;for(x in s){var H=s[x],J=t[x],J=cc(this,H)(h,l,p,q,J);if(J==n){s=m;break e}u.push(H);y.push(J)}for(x in y)J=y[x],n(f,J);s=r}break;default:s=r}f=s}d=d&&f}a=d}return new dc(b,c,a)};
var $b=function(a){switch(a.toLowerCase()){case "e":return I.prototype.nd;case "w":return I.prototype.rb;case "x":return I.prototype.Mg;case "y":return I.prototype.Ng;case "z":return I.prototype.Og;case "l":return I.prototype.Lg;default:return function(){}}},ac=function(a){switch(a.toLowerCase()){case "a":return I.prototype.Zc;case "d":return I.prototype.Yc;case "fh":return I.prototype.ad;case "fv":return I.prototype.fd;case "ci":return I.prototype.fc;case "g":return I.prototype.Cg;case "fg":return I.prototype.$c;
case "i":return I.prototype.Bg;case "n":return I.prototype.eb;case "no":return I.prototype.bd;case "ns":return I.prototype.cd;case "rw":return I.prototype.dd;case "rwu":return I.prototype.ed;case "u":return I.prototype.Dg;case "v":return I.prototype.Ag;default:return function(){}}},bc=function(a){switch(a.toLowerCase()){case "f":return I.prototype.pd;case "j":return I.prototype.Qg;case "q":return I.prototype.Rg;case "t":return I.prototype.Sg;case "nt0":return I.prototype.Tg;default:return function(){}}};
Zb.prototype.Xg=function(a,b,c){switch(a.toLowerCase()){case "b":b.push(1,0),c.push(I.prototype.rg,I.prototype.qg);case "c":b.push(1,0),c.push(I.prototype.ya,I.prototype.pg);case "h":b.push(1,0);c.push(I.prototype.vg,I.prototype.pb);break;case "k":b.push(1,0);c.push(I.prototype.Wc,I.prototype.ug);break;case "o":b.push(1,2);c.push(I.prototype.Xc,I.prototype.sg);break;case "p":b.push(1,0);c.push(I.prototype.za,I.prototype.tg);break;case "r":b.push(1,0);c.push(I.prototype.xg,I.prototype.wg);break;case "s":b.push(1,
0),c.push(I.prototype.Pc,I.prototype.Ea)}};var ec=function(a,b,c,d,e){e.apply(c,[b]);a=a.substring(0,1);e.apply(d,[a==a.toUpperCase()])};Zb.prototype.Xe=function(a,b,c,d,e){if(""==b)return 0;isFinite(b)&&(b=String(b));b=A(b)?/^\s*-?0x/i.test(b)?parseInt(b,16):parseInt(b,10):NaN;if(isNaN(b))return 1;ec(a,b,c,d,e);return n};Zb.prototype.We=function(a,b,c,d,e){if(""!=b)return 2;ec(a,m,c,d,e);return n};Zb.prototype.Ye=function(a,b,c,d,e){if(""==b)return 0;ec(a,b,c,d,e);return n};
var cc=function(a,b){switch(b){case 0:return B(a.Xe,a);case 1:return B(a.We,a);case 2:return B(a.Ye,a);default:return function(){}}},dc=function(a,b,c){this.$a=a;this.Ke=b;this.Ib=c};dc.prototype.ze=function(){return this.Ib};var gc=function(a){fc(this,a)},hc=function(a){a.kf==n&&(a.kf=new Zb);return a.kf},fc=function(a,b){a.M=[];a.S=b?A(b)?hc(a).parse(b):b:hc(a).parse("")},K=function(a,b,c,d){b||"number"==typeof b&&0==b||(b=k);var e=a.S.$a;a=a.S.Ke;var f=c.call(e);b!=f&&(f!=k&&c.call(a),d.call(e,b))};v=gc.prototype;v.ya=function(a){a&&(this.za(r),this.eb(r));K(this,a,I.prototype.wd,I.prototype.ya);return this};v.Yc=function(a){K(this,a,I.prototype.Ad,I.prototype.Yc);return this};
v.pb=function(a){a!=n&&this.Ea();K(this,a,I.prototype.vc,I.prototype.pb);return this};v.Pc=function(a){a&&(this.ya(r),this.fc(r),this.za(r),this.eb(r));K(this,a,I.prototype.ud,I.prototype.Pc);return this};v.pd=function(a){a&&(a=a.replace(";",":"));K(this,a,I.prototype.Fd,I.prototype.pd);return this};v.ad=function(a){K(this,a,I.prototype.Ed,I.prototype.ad);return this};v.fd=function(a){K(this,a,I.prototype.Md,I.prototype.fd);return this};v.fc=function(a){K(this,a,I.prototype.zd,I.prototype.fc);return this};
v.$c=function(a){K(this,a,I.prototype.Dd,I.prototype.$c);return this};v.Wc=function(a){K(this,a,I.prototype.Gd,I.prototype.Wc);return this};v.Zc=function(a){K(this,a,I.prototype.Bd,I.prototype.Zc);return this};v.Ea=function(a){oa(a)&&(a=Math.max(a.width,a.height));a!=n&&(this.rb(),this.pb());K(this,a,I.prototype.Sb,I.prototype.Ea);return this};v.za=function(a){a&&(this.ya(r),this.eb(r));K(this,a,I.prototype.xd,I.prototype.za);return this};
v.eb=function(a){a&&(this.ya(r),this.za(r));K(this,a,I.prototype.vd,I.prototype.eb);return this};v.rb=function(a){a!=n&&this.Ea();K(this,a,I.prototype.wc,I.prototype.rb);return this};v.nd=function(a){K(this,a,I.prototype.Cd,I.prototype.nd);return this};v.dd=function(a){K(this,a,I.prototype.Kd,I.prototype.dd);return this};v.ed=function(a){K(this,a,I.prototype.Ld,I.prototype.ed);return this};v.Xc=function(a){K(this,a,I.prototype.Jd,I.prototype.Xc);return this};
v.bd=function(a){K(this,a,I.prototype.Hd,I.prototype.bd);return this};v.cd=function(a){K(this,a,I.prototype.Id,I.prototype.cd);return this};
v.mc=function(){this.M.length=0;var a=this.S.$a;a.Nd()?a.Sb()||this.Ea(0):(a=this.S.$a,!a.Sb()&&(!a.wc()&&!a.vc())&&(this.ya(),this.Ea(),this.pb(),this.za(),this.rb()));L(this,"s",I.prototype.Sb);L(this,"w",I.prototype.wc);M(this,"c",I.prototype.wd);L(this,"c",I.prototype.of,16,6);M(this,"d",I.prototype.Ad);L(this,"h",I.prototype.vc);M(this,"s",I.prototype.ud);M(this,"h",I.prototype.wf);M(this,"p",I.prototype.xd);L(this,"p",I.prototype.uf);M(this,"n",I.prototype.vd);L(this,"r",I.prototype.Af);M(this,
"r",I.prototype.Bf);M(this,"fh",I.prototype.Ed);M(this,"fv",I.prototype.Md);M(this,"ci",I.prototype.zd);M(this,"o",I.prototype.Jd);ic(this,"o",I.prototype.sf);ic(this,"j",I.prototype.rf);L(this,"x",I.prototype.Df);L(this,"y",I.prototype.Ef);L(this,"z",I.prototype.Ff);M(this,"g",I.prototype.Cf);M(this,"fg",I.prototype.Dd);L(this,"e",I.prototype.Cd);ic(this,"f",I.prototype.Fd);M(this,"k",I.prototype.Gd);L(this,"k",I.prototype.vf);M(this,"u",I.prototype.Nd);M(this,"i",I.prototype.xf);M(this,"a",I.prototype.Bd);
M(this,"b",I.prototype.qf);L(this,"b",I.prototype.pf);ic(this,"t",I.prototype.Gf);ic(this,"nt0",I.prototype.Hf);M(this,"v",I.prototype.tf);M(this,"rw",I.prototype.Kd);M(this,"rwu",I.prototype.Ld);M(this,"no",I.prototype.Hd);ic(this,"q",I.prototype.zf);M(this,"ns",I.prototype.Id);L(this,"l",I.prototype.yf);return this.M.join("-")};
var L=function(a,b,c,d,e){var f=c.apply(a.S.$a,[]);if(!(f==k||f==n)){var h=d==k||10!=d&&16!=d?10:d,f=f.toString(h);d=new Wb;d.append(16==h?"0x":"");e==k?e="":(e-=f.length,e=0>=e?"":Array(e+1).join("0"));d.append(e);d.append(f);jc(a,b,d.toString(),c)}},M=function(a,b,c){c.apply(a.S.$a,[])&&jc(a,b,"",c)},ic=function(a,b,c){var d=c.apply(a.S.$a,[]);d&&jc(a,b,d,c)},jc=function(a,b,c,d){d.apply(a.S.Ke,[])&&(b=b.substring(0,1).toUpperCase()+b.substring(1));a.M.push(b+c)};var kc=/^[^\/]*\/\//,lc=function(){};lc.prototype.parse=function(a){return new mc(a)};
var mc=function(a){this.Eb=a;this.ec="";a=this.Eb.match(kc);!a||!a[0]?a="http://"+this.Eb:(this.ec=a[0],a=this.ec.match(/\w+/)?this.Eb:"http://"+this.Eb.substring(this.ec.length));this.ic=a instanceof Eb?a.ea():new Eb(a,m);this.Ib=m;this.He=r},nc=["image","proxy","public"],oc=function(a){if(a.M==k){a.M=a.ic.Db.substring(1).split("/");var b=a.M.length;if(7==b||2==b){if(!a.M[0]||!(0<=ib(nc,a.M[0])))a.Ib=r}else if(7<b||2<b&&5>b||0==b)a.Ib=r;if(2>=b){a.He=m;var b=b-1,c=a.M[b],d=c.indexOf("=");-1!=d&&
(a.M[b]=c.substr(0,d),a.M.push(c.substr(d+1)))}}return a.M};mc.prototype.ze=function(){oc(this);return this.Ib};var pc=function(a){oc(a);return a.He};mc.prototype.zb=function(){var a=this.ic.Fb;return this.ic.zb()+(a?":"+a:"")};mc.prototype.Ee=function(){return this.ic.ka.toString()};
var qc=function(a){if(a.rc!=k)return a.rc;var b=oc(a);b[0]&&0<=ib(nc,b[0])?a.rc=b[0]:a.rc=n;return a.rc},rc=function(a){switch(oc(a).length){case 7:return m;case 6:return qc(a)==n;case 5:return r;case 3:return m;case 2:return qc(a)==n;case 1:return r;default:return r}},sc=function(a,b){var c;if(pc(a))t:{c=qc(a)!=n?1:0;switch(b){case 6:c=0+c;break;case 4:if(!rc(a)){c=n;break t}c=1+c;break;default:c=n;break t}c=oc(a)[c]}else t:{c=qc(a)!=n?1:0;switch(b){case 0:c=0+c;break;case 1:c=1+c;break;case 2:c=
2+c;break;case 3:c=3+c;break;case 4:if(!rc(a)){c=n;break t}c=4+c;break;case 5:var d=rc(a)?1:0;c=4+c+d;break;default:c=n;break t}c=oc(a)[c]}return c},tc=function(a){a.hf==k&&(a.hf=sc(a,0));return a.hf},uc=function(a){a.lf==k&&(a.lf=sc(a,1));return a.lf},vc=function(a){a.ff==k&&(a.ff=sc(a,2));return a.ff},wc=function(a){a.mf==k&&(a.mf=sc(a,3));return a.mf};mc.prototype.Xb=function(){this.jf==k&&(this.jf=sc(this,4));return this.jf};var xc=function(a){a.bf==k&&(a.bf=sc(a,5));return a.bf};var zc=function(a){a instanceof mc||(yc==k&&(yc=new lc),a=yc.parse(a.toString()));a=this.C=a;if(a.S==k){var b=a.Xb();b||(b="");a.S=(new Zb).parse(b)}fc(this,a.S);this.Vf=this.C.ec;this.ab=this.C.zb();this.ne=this.C.Ee()},yc;C(zc,gc);
zc.prototype.mc=function(){if(!this.C.ze())return this.C.Eb;var a=zc.u.mc.call(this),b=[];qc(this.C)!=n&&b.push(qc(this.C));if(pc(this.C)){var c=this.C;c.Ae==k&&(c.Ae=sc(c,6));b.push(c.Ae+(a?"="+a:""))}else b.push(tc(this.C)),b.push(uc(this.C)),b.push(vc(this.C)),b.push(wc(this.C)),a&&b.push(a),b.push(xc(this.C));return this.Vf+this.ab+"/"+b.join("/")+(this.ne?"?"+this.ne:"")};var N=function(a,b){this.x=z(a)?a:0;this.y=z(b)?b:0};v=N.prototype;v.ea=function(){return new N(this.x,this.y)};v.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};v.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};v.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};v.scale=function(a,b){var c=fa(b)?b:a;this.x*=a;this.y*=c;return this};var Ac,Bc=!E||E&&9<=db;!Qa&&!E||E&&E&&9<=db||Qa&&G("1.9.1");E&&G("9");var Cc=function(a,b){var c;c=a.className;c=A(c)&&c.match(/\S+/g)||[];for(var d=pb(arguments,1),e=c.length+d.length,f=c,h=0;h<d.length;h++)0<=ib(f,d[h])||f.push(d[h]);a.className=c.join(" ");return c.length==e};var Fc=function(a){return a?new Dc(Ec(a)):Ac||(Ac=new Dc)},Hc=function(a,b){sb(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in Gc?a.setAttribute(Gc[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})},Gc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",
width:"width"},Jc=function(a,b,c,d){function e(c){c&&b.appendChild(A(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var f=c[d];ea(f)&&!(oa(f)&&0<f.nodeType)?jb(Ic(f)?ob(f):f,e):e(f)}},Kc=function(a){a&&a.parentNode&&a.parentNode.removeChild(a)},Lc=function(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a},Ec=function(a){return 9==a.nodeType?a:
a.ownerDocument||a.document},Ic=function(a){if(a&&"number"==typeof a.length){if(oa(a))return"function"==typeof a.item||"string"==typeof a.item;if(ga(a))return"function"==typeof a.item}return r},Dc=function(a){this.O=a||w.document||document};v=Dc.prototype;v.Ge=function(){return this.O};v.ob=function(a){return A(a)?this.O.getElementById(a):a};
v.hd=function(a,b,c){var d=this.O,e=arguments,f=e[0],h=e[1];if(!Bc&&h&&(h.name||h.type)){f=["<",f];h.name&&f.push(' name="',Ca(h.name),'"');if(h.type){f.push(' type="',Ca(h.type),'"');var l={};yb(l,h);delete l.type;h=l}f.push(">");f=f.join("")}f=d.createElement(f);h&&(A(h)?f.className=h:da(h)?Cc.apply(n,[f].concat(h)):Hc(f,h));2<e.length&&Jc(d,f,e,2);return f};v.createElement=function(a){return this.O.createElement(a)};v.createTextNode=function(a){return this.O.createTextNode(String(a))};
v.appendChild=function(a,b){a.appendChild(b)};v.append=function(a,b){Jc(Ec(a),a,arguments,1)};v.contains=Lc;var O=function(a,b){this.x=a;this.y=b};C(O,N);O.prototype.ea=function(){return new O(this.x,this.y)};O.prototype.scale=N.prototype.scale;O.prototype.add=function(a){this.x+=a.x;this.y+=a.y;return this};var Mc=function(a,b){this.O=a;this.p=[];this.parse(b)};Mc.prototype.Ge=function(){return this.O};
Mc.prototype.parse=function(a){if(z(this.O)){this.O===n&&g(Error("Not parsing TileInfo XML as document_ is null."));var b=this.O.documentElement;this.w=Nc(b,"tile_width");this.F=Nc(b,"tile_height");this.origin=Oc(b,"origin","TOP_LEFT");this.origin in Pc||g(Error("Invalid image origin: "+this.origin));this.timestamp=Nc(b,"timestamp");var c=b.childNodes,d=0;this.p=[];for(var e=0;e<c.length;++e)oa(c[e])&&1==c[e].nodeType&&this.p.push(new Qc(d++,c[e],this.w,this.F));if(2>Nc(b,"tiler_version_number")&&
z(a)&&a&&0<this.p.length){a=this.p[this.p.length-1];b=Rc(a);d=Sc(a);for(e=0;e<c.length;++e){var f=Math.pow(2,c.length-e-1),h=Math.floor(b/f),f=Math.floor(d/f),l=b/h,p=d/f;l>p?f=Sc(a)/l:h=Rc(a)/p;this.p[e].ca=Math.ceil(h/this.w);this.p[e].Xa=this.p[e].ca*this.w-h;this.p[e].pa=Math.ceil(f/this.F);this.p[e].Ya=this.p[e].pa*this.F-f}}this.Qd=this.p.length}};
var Oc=function(a,b,c){c=c!=n?c:"";if(a==n)return c;var d=c;if(a.attributes!=n&&a.attributes.getNamedItem(b)!=n)d=a.attributes.getNamedItem(b).value;else{var e;if(e=a.cf!=n)e=a.cf("@"+b)!=n;e&&(d=a.cf("@"+b).get())}return d!=n?d:c},Nc=function(a,b){var c=Oc(a,b,""),c=parseInt(c,10);return isNaN(c)?0:c};Mc.prototype.tb=function(a){for(var b=0;b<this.p.length;++b)this.p[b].tb(a)};
var Qc=function(a,b,c,d){this.Q=a;this.w=c;this.F=d;this.d=b;this.sc=2*Math.PI;this.qe=-Math.PI;this.pe=Math.PI;this.oe=Math.PI/2;this.rotation=n;this.parse()};Qc.prototype.ob=function(){return this.d};Qc.prototype.parse=function(){this.d!=n&&(this.ca=Nc(this.d,"num_tiles_x"),this.pa=Nc(this.d,"num_tiles_y"),this.Xa=Nc(this.d,"empty_pels_x"),this.Ya=Nc(this.d,"empty_pels_y"))};
Qc.prototype.tb=function(a){a==n&&4==!a.length&&g(Error("Invalid angular span: "+a));this.sc=a[0];this.qe=a[1];this.pe=a[2];this.oe=a[3]};var Rc=function(a){return a.ca*a.w-a.Xa},Sc=function(a){return a.pa*a.F-a.Ya},Pc={BOTTOM_LEFT:"BOTTOM_LEFT",BOTTOM_RIGHT:"BOTTOM_RIGHT",TOP_LEFT:"TOP_LEFT",TOP_RIGHT:"TOP_RIGHT"};var Tc=function(a){this.se=a;this.Vb=n};Tc.prototype.tb=function(a){this.Vb=a};Tc.prototype.Ce=function(){return""};Tc.prototype.De=function(){return r};var Uc=function(a,b,c,d,e,f,h){var l=new zc(a);fc(l,"");l=l.mc();Tc.call(this,l);this.url=a;this.qd={};f!=n&&(d!=n&&0<d&&b!=n&&0<b&&h!=n&&e!=n&&0<e&&c!=n&&0<c)&&(this.Vb=[2*d/b*Math.PI,2*f/b*Math.PI,e/c*Math.PI,Math.PI/2-h/c*Math.PI])};C(Uc,Tc);var Vc=function(a,b){if(!a.qd[b]){var c=a.qd,d=new zc(a.url);fc(d,b);c[b]=d.mc()}return a.qd[b]};Uc.prototype.nc=function(a,b,c){return Vc(this,"x"+a+"-y"+b+"-z"+c)};Uc.prototype.Ce=function(){return Vc(this,"s2560")};var Xc=function(a,b,c){A(b)?Wc(a,c,b):sb(b,ua(Wc,a))},Wc=function(a,b,c){var d;t:if(d=Da(c),a.style[d]===k&&(c=(F?"Webkit":Qa?"Moz":E?"ms":Pa?"O":n)+Ea(c),a.style[c]!==k)){d=c;break t}d&&(a.style[d]=b)},Yc=function(a,b){var c;t:{c=Ec(a);if(c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,n))){c=c[b]||c.getPropertyValue(b)||"";break t}c=""}return c||(a.currentStyle?a.currentStyle[b]:n)||a.style&&a.style[b]},Zc=function(a){if(E&&!(E&&8<=db))return a.offsetParent;var b=
Ec(a),c=Yc(a,"position"),d="fixed"==c||"absolute"==c;for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=Yc(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return n},ad=function(a,b,c){b instanceof Fa?(c=b.height,b=b.width):c==k&&g(Error("missing height argument"));a.style.width=$c(b);a.style.height=$c(c)},$c=function(a){"number"==typeof a&&(a=Math.round(a)+"px");return a};var bd=function(a){this.length=a.length||a;for(var b=0;b<this.length;b++)this[b]=a[b]||0};bd.prototype.BYTES_PER_ELEMENT=4;bd.prototype.set=function(a,b){b=b||0;for(var c=0;c<a.length&&b+c<this.length;c++)this[b+c]=a[c]};bd.prototype.toString=Array.prototype.join;"undefined"==typeof Float32Array&&(bd.BYTES_PER_ELEMENT=4,bd.prototype.BYTES_PER_ELEMENT=bd.prototype.BYTES_PER_ELEMENT,bd.prototype.set=bd.prototype.set,bd.prototype.toString=bd.prototype.toString,wa("Float32Array",bd));var cd=function(a){this.length=a.length||a;for(var b=0;b<this.length;b++)this[b]=a[b]||0};cd.prototype.BYTES_PER_ELEMENT=8;cd.prototype.set=function(a,b){b=b||0;for(var c=0;c<a.length&&b+c<this.length;c++)this[b+c]=a[c]};cd.prototype.toString=Array.prototype.join;if("undefined"==typeof Float64Array){try{cd.BYTES_PER_ELEMENT=8}catch(dd){}cd.prototype.BYTES_PER_ELEMENT=cd.prototype.BYTES_PER_ELEMENT;cd.prototype.set=cd.prototype.set;cd.prototype.toString=cd.prototype.toString;wa("Float64Array",cd)};var ed=function(a){var b=new Float32Array(3);b[0]=0;b[1]=a;b[2]=0;return b},fd=function(a,b){var c=a[0],d=a[1],e=a[2],c=1/Math.sqrt(c*c+d*d+e*e);b[0]=a[0]*c;b[1]=a[1]*c;b[2]=a[2]*c},gd=function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]},hd=function(a,b,c){var d=a[0],e=a[1];a=a[2];var f=b[0],h=b[1];b=b[2];c[0]=e*b-a*h;c[1]=a*f-d*b;c[2]=d*h-e*f};var id=function(){return new Float32Array(16)},jd=function(a,b,c,d,e,f,h,l,p){a[0]=b;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=c;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=d;a[11]=e;a[12]=f;a[13]=h;a[14]=l;a[15]=p},kd=function(a,b,c){a[b]=c[0];a[b+4]=c[1];a[b+8]=c[2];a[b+12]=c[3]},ld=function(a,b,c){var d=a[0],e=a[1],f=a[2],h=a[3],l=a[4],p=a[5],q=a[6],s=a[7],t=a[8],u=a[9],y=a[10],x=a[11],H=a[12],J=a[13],R=a[14];a=a[15];var S=b[0],T=b[1],U=b[2],V=b[3],ha=b[4],ia=b[5],ja=b[6],ka=b[7],la=b[8],ma=b[9],na=b[10],D=b[11],
Kb=b[12],Lb=b[13],Mb=b[14];b=b[15];c[0]=d*S+l*T+t*U+H*V;c[1]=e*S+p*T+u*U+J*V;c[2]=f*S+q*T+y*U+R*V;c[3]=h*S+s*T+x*U+a*V;c[4]=d*ha+l*ia+t*ja+H*ka;c[5]=e*ha+p*ia+u*ja+J*ka;c[6]=f*ha+q*ia+y*ja+R*ka;c[7]=h*ha+s*ia+x*ja+a*ka;c[8]=d*la+l*ma+t*na+H*D;c[9]=e*la+p*ma+u*na+J*D;c[10]=f*la+q*ma+y*na+R*D;c[11]=h*la+s*ma+x*na+a*D;c[12]=d*Kb+l*Lb+t*Mb+H*b;c[13]=e*Kb+p*Lb+u*Mb+J*b;c[14]=f*Kb+q*Lb+y*Mb+R*b;c[15]=h*Kb+s*Lb+x*Mb+a*b},md=function(a,b,c){var d=b[0],e=b[1];b=b[2];var f=1/(d*a[3]+e*a[7]+b*a[11]+a[15]);c[0]=
(d*a[0]+e*a[4]+b*a[8]+a[12])*f;c[1]=(d*a[1]+e*a[5]+b*a[9]+a[13])*f;c[2]=(d*a[2]+e*a[6]+b*a[10]+a[14])*f};new Float64Array(3);new Float64Array(3);var nd=[new Float64Array(4),new Float64Array(4),new Float64Array(4)];new Float64Array(16);var od=function(){var a=new Float32Array(9);a[0]=a[4]=a[8]=1;this.Y=a};od.prototype.scale=function(a,b){var c=new Float32Array(9);c[0]=a;c[1]=0;c[2]=0;c[3]=0;c[4]=b;c[5]=0;c[6]=0;c[7]=0;c[8]=1;var d=new od,e=this.Y,f=d.Y,h=e[0],l=e[1],p=e[2],q=e[3],s=e[4],t=e[5],u=e[6],y=e[7],e=e[8],x=c[0],H=c[1],J=c[2],R=c[3],S=c[4],T=c[5],U=c[6],V=c[7],c=c[8];f[0]=h*x+q*H+u*J;f[1]=l*x+s*H+y*J;f[2]=p*x+t*H+e*J;f[3]=h*R+q*S+u*T;f[4]=l*R+s*S+y*T;f[5]=p*R+t*S+e*T;f[6]=h*U+q*V+u*c;f[7]=l*U+s*V+y*c;f[8]=p*U+t*V+e*c;return d};
od.prototype.Me=function(a,b){var c=z(b)?b:new N,d=a.x*this.Y[2]+a.y*this.Y[5]+this.Y[8];if(!isFinite(d))return n;d=1/d;c.x=(a.x*this.Y[0]+a.y*this.Y[3]+this.Y[6])*d;c.y=(a.x*this.Y[1]+a.y*this.Y[4]+this.Y[7])*d;return c};var pd=function(){};var sd=function(a){for(var b=n,c=qd.texture3d,d=0;d<c.length;++d)if(c[d].Te===a){b=c[d];break}b===n&&(b=rd.texture3d,b==n&&g(Error("Unknown (unregistered) shader type: Texture3d")),b=b(a),c.push(b));return b},rd={},qd={},td=function(a){this.Te=a;this.Ja=n;this.Pd=this.Kb(this.Te)},ud=function(a){td.call(this,a)};C(ud,td);rd.texture3d=function(a){return new ud(a)};qd.texture3d=[];
ud.prototype.Kb=function(a){var b=a.createShader(a.VERTEX_SHADER);a.shaderSource(b,"attribute vec3 aVertexPosition;attribute vec2 aTextureCoord;uniform mat4 uModelViewProjMatrix;varying vec2 vTextureCoord;uniform highp float uAlpha;varying highp float vAlpha;void main() {  gl_Position = uModelViewProjMatrix *      vec4(aVertexPosition, 1.0);  vTextureCoord = aTextureCoord;  vAlpha = uAlpha;}");a.compileShader(b);if(!a.getShaderParameter(b,a.COMPILE_STATUS))return r;var c=a.createShader(a.FRAGMENT_SHADER);
a.shaderSource(c,"varying highp vec2 vTextureCoord;uniform sampler2D uSampler;varying highp float vAlpha;void main() {  highp vec4 textureColor =      texture2D(uSampler, vec2(vTextureCoord.s, vTextureCoord.t));  gl_FragColor = vec4(textureColor.xyz, textureColor.a * vAlpha);}");a.compileShader(c);if(!a.getShaderParameter(c,a.COMPILE_STATUS))return r;this.Ja=a.createProgram();a.attachShader(this.Ja,b);a.attachShader(this.Ja,c);a.linkProgram(this.Ja);return!!a.getProgramParameter(this.Ja,a.LINK_STATUS)};var vd=function(a,b){a!=n&&("IMG"==a.nodeName&&!a.complete)&&g(Error("Image not complete: ",a));this.hb=z(b)&&isFinite(b)&&0<=b?b:16;this.he=[];this.ie=[];this.Pf=a;new od;this.v=[];this.qa=this.Kc=this.ga=n;this.Ga=0;this.Da=this.Ha=n;this.Fa=0;for(var c=1/this.hb,d=this.he,e=this.ie,f=0;f<=this.hb;++f)for(var h=0;h<=this.hb;++h){var l=f*c,p=h*c;d.push(l);d.push(p);e.push(l);e.push(p);e.push(1)}c=0;d=this.hb+1;for(e=0;e<this.hb;++e){for(f=0;f<this.hb;++f)this.v.push(c),this.v.push(c+d),this.v.push(c+
d+1),this.v.push(c),this.v.push(c+1),this.v.push(c+d+1),c++;c++}};C(vd,pd);var wd=r,zd=function(){if(wd)return r;if("unknown"==xd){var a=document.createElement("canvas"),a=new vd(a),b=document.createElement("canvas"),b=yd(b);if(b===n)xd="no";else{var c;a.ga=sd(b);a.ga==n||!a.ga.Pd?c=r:(c=a.ga.Ja,b.useProgram(c),b.clearColor(0,0,0,1),b.disable(b.DEPTH_TEST),b.enable(b.BLEND),b.blendFunc(b.SRC_ALPHA,b.ONE_MINUS_SRC_ALPHA),a.Kc=b.createTexture(),b.activeTexture(b.TEXTURE0),b.bindTexture(b.TEXTURE_2D,a.Kc),b.texImage2D(b.TEXTURE_2D,0,b.RGBA,b.RGBA,b.UNSIGNED_BYTE,a.Pf),b.texParameteri(b.TEXTURE_2D,
b.TEXTURE_MAG_FILTER,b.LINEAR),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.LINEAR),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE),b.uniform1f(b.getUniformLocation(c,"uSampler"),0),a.Ha=b.createBuffer(),b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,a.Ha),b.bufferData(b.ELEMENT_ARRAY_BUFFER,new Uint16Array(a.v),b.STATIC_DRAW),a.Da=b.createBuffer(),a.Fa=b.getAttribLocation(c,"aTextureCoord"),b.enableVertexAttribArray(a.Fa),
b.bindBuffer(b.ARRAY_BUFFER,a.Da),b.bufferData(b.ARRAY_BUFFER,new Float32Array(a.he),b.STATIC_DRAW),b.vertexAttribPointer(a.Fa,2,b.FLOAT,r,0,0),a.qa=b.createBuffer(),a.Ga=b.getAttribLocation(c,"aVertexPosition"),b.enableVertexAttribArray(a.Ga),b.bindBuffer(b.ARRAY_BUFFER,a.qa),b.bufferData(b.ARRAY_BUFFER,new Float32Array(a.ie),b.STATIC_DRAW),b.vertexAttribPointer(a.Ga,3,b.FLOAT,r,0,0),c=m);xd=c?"yes":"no";b.deleteTexture(a.Kc);b.deleteBuffer(a.qa);b.deleteBuffer(a.Da);b.deleteBuffer(a.Ha)}}return"yes"==
xd},yd=function(a){for(var b=["webgl","experimental-webgl","3d","webkit-3d","moz-webgl"],c=n,d=0;d<b.length;++d)try{if(c=a.getContext(b[d]),c!=n)break}catch(e){}return c},xd="unknown";var Ad=function(a,b){var c=a.match(RegExp(".*(\\?|#|&)"+b+"=([^&#]+)"))||[];return decodeURIComponent(c[c.length-1]||"")},Bd=function(a,b){function c(a){if(!a.match(/^https?\:\/\//))return"";var b=f.createElement("a");b.href=a;b.pathname=b.search=b.hash="";return b.href.replace(/\/\??\#?$/,"")}function d(){a?(s.s=q+"/"+h+":"+q+":"+s.s,s.g=r,b&&(s.a=b.slice(1)),e.parent.postMessage("!_"+e.JSON.stringify(s),p||"*")):e.parent.postMessage(e.JSON.stringify(s),p||"*")}var e=window,f=e.document;if(e.postMessage&&
e.JSON&&e.JSON.stringify&&e!=e.parent){var h=e.name,l=e.location.href,p=c(Ad(l,"parent")),q=Ad(l,"pfname"),s={s:"_renderstart",f:h,r:h,t:Ad(l,"rpctoken"),a:b||[""],g:"ping"};f.all?e.setTimeout(d,0):d()}};var Cd=!E||E&&9<=db,Dd=!E||E&&9<=db,Ed=E&&!G("9");!F||G("528");Qa&&G("1.9b")||E&&G("8")||Pa&&G("9.5")||F&&G("528");Qa&&!G("8")||E&&G("9");var Fd="ontouchstart"in w||!(!w.document||!(document.documentElement&&"ontouchstart"in document.documentElement))||!(!w.navigator||!w.navigator.msMaxTouchPoints);var Gd=function(a){Gd[" "](a);return a};Gd[" "]=ba;var Hd=function(){};Hd.prototype.Pe=r;Hd.prototype.Ua=function(){this.Pe||(this.Pe=m,this.m())};var P=function(a,b){var c=ua(Id,b);a.Lb||(a.Lb=[]);a.Lb.push(B(c,k))};Hd.prototype.m=function(){if(this.Lb)for(;this.Lb.length;)this.Lb.shift()()};var Id=function(a){a&&"function"==typeof a.Ua&&a.Ua()};var Q=function(a,b){this.type=a;this.currentTarget=this.target=b};v=Q.prototype;v.m=function(){};v.Ua=function(){};v.Va=r;v.defaultPrevented=r;v.Le=m;v.preventDefault=function(){this.defaultPrevented=m;this.Le=r};var Jd=function(a,b){a&&this.mb(a,b)};C(Jd,Q);var Kd=[1,4,2];v=Jd.prototype;v.target=n;v.relatedTarget=n;v.offsetX=0;v.offsetY=0;v.clientX=0;v.clientY=0;v.screenX=0;v.screenY=0;v.button=0;v.keyCode=0;v.charCode=0;v.ctrlKey=r;v.altKey=r;v.shiftKey=r;v.metaKey=r;v.W=n;
v.mb=function(a,b){var c=this.type=a.type;Q.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(Qa){var e;t:{try{Gd(d.nodeName);e=m;break t}catch(f){}e=r}e||(d=n)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=F||a.offsetX!==k?a.offsetX:a.layerX;this.offsetY=F||a.offsetY!==k?a.offsetY:a.layerY;this.clientX=a.clientX!==k?a.clientX:a.pageX;this.clientY=a.clientY!==k?a.clientY:a.pageY;this.screenX=a.screenX||
0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.state=a.state;this.W=a;a.defaultPrevented&&this.preventDefault();delete this.Va};
v.preventDefault=function(){Jd.u.preventDefault.call(this);var a=this.W;if(a.preventDefault)a.preventDefault();else if(a.returnValue=r,Ed)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};v.m=function(){};var Ld="closure_listenable_"+(1E6*Math.random()|0),Md=function(a){return!(!a||!a[Ld])},Nd=0;var Od=function(a,b,c,d,e,f){this.ta=a;this.xe=b;this.src=c;this.type=d;this.capture=!!e;this.ub=f;this.key=++Nd;this.T=this.gb=r};Od.prototype.handleEvent=function(a){return this.ta.call(this.ub||this.src,a)};var Pd={},Qd={},Rd={},Sd={},W=function(a,b,c,d,e){if(da(b)){for(var f=0;f<b.length;f++)W(a,b[f],c,d,e);return n}c=Td(c);return Md(a)?a.n(b,c,d,e):Ud(a,b,c,r,d,e)},Ud=function(a,b,c,d,e,f){b||g(Error("Invalid event type"));e=!!e;var h=Qd;b in h||(h[b]={h:0,la:0});h=h[b];e in h||(h[e]={h:0,la:0},h.h++);var h=h[e],l=ra(a),p;h.la++;if(h[l]){p=h[l];for(var q=0;q<p.length;q++)if(h=p[q],h.ta==c&&h.ub==f){if(h.T)break;d||(p[q].gb=r);return p[q]}}else p=h[l]=[],h.h++;q=Vd();h=new Od(c,q,a,b,e,f);h.gb=d;q.src=
a;q.ta=h;p.push(h);Rd[l]||(Rd[l]=[]);Rd[l].push(h);a.addEventListener?a.addEventListener(b,q,e):a.attachEvent(b in Sd?Sd[b]:Sd[b]="on"+b,q);return Pd[h.key]=h},Vd=function(){var a=Wd,b=Dd?function(c){return a.call(b.src,b.ta,c)}:function(c){c=a.call(b.src,b.ta,c);if(!c)return c};return b},Xd=function(a,b,c,d,e){if(da(b)){for(var f=0;f<b.length;f++)Xd(a,b[f],c,d,e);return n}c=Td(c);return Md(a)?a.gd(b,c,d,e):Ud(a,b,c,m,d,e)},Yd=function(a,b,c,d,e){if(da(b))for(var f=0;f<b.length;f++)Yd(a,b[f],c,d,
e);else if(c=Td(c),Md(a))a.Mc(b,c,d,e);else if(d=!!d,a=Zd(a,b,d))for(f=0;f<a.length;f++)if(a[f].ta==c&&a[f].capture==d&&a[f].ub==e){$d(a[f]);break}},$d=function(a){if(fa(a)||!a||a.T)return r;var b=a.src;if(Md(b))return ae(b,a);var c=a.type,d=a.xe,e=a.capture;b.removeEventListener?b.removeEventListener(c,d,e):b.detachEvent&&b.detachEvent(c in Sd?Sd[c]:Sd[c]="on"+c,d);b=ra(b);Rd[b]&&(d=Rd[b],mb(d,a),0==d.length&&delete Rd[b]);a.T=m;if(d=Qd[c][e][b])d.Ie=m,be(c,e,b,d);delete Pd[a.key];return m},be=function(a,
b,c,d){if(!d.oc&&d.Ie){for(var e=0,f=0;e<d.length;e++)d[e].T?d[e].xe.src=n:(e!=f&&(d[f]=d[e]),f++);d.length=f;d.Ie=r;0==f&&(delete Qd[a][b][c],Qd[a][b].h--,0==Qd[a][b].h&&(delete Qd[a][b],Qd[a].h--),0==Qd[a].h&&delete Qd[a])}},Zd=function(a,b,c){var d=Qd;return b in d&&(d=d[b],c in d&&(d=d[c],a=ra(a),d[a]))?d[a]:n},de=function(a,b,c,d,e){var f=1;b=ra(b);if(a[b]){var h=--a.la,l=a[b];l.oc?l.oc++:l.oc=1;try{for(var p=l.length,q=0;q<p;q++){var s=l[q];s&&!s.T&&(f&=ce(s,e)!==r)}}finally{a.la=Math.max(h,
a.la),l.oc--,be(c,d,b,l)}}return Boolean(f)},ce=function(a,b){a.gb&&$d(a);return a.handleEvent(b)},Wd=function(a,b){if(a.T)return m;var c=a.type,d=Qd;if(!(c in d))return m;var d=d[c],e,f;if(!Dd){var h;if(!(h=b))t:{h=["window","event"];for(var l=w;e=h.shift();)if(l[e]!=n)l=l[e];else{h=n;break t}h=l}e=h;h=m in d;l=r in d;if(h){if(0>e.keyCode||e.returnValue!=k)return m;t:{var p=r;if(0==e.keyCode)try{e.keyCode=-1;break t}catch(q){p=m}if(p||e.returnValue==k)e.returnValue=m}}p=new Jd;p.mb(e,this);e=m;try{if(h){for(var s=
[],t=p.currentTarget;t;t=t.parentNode)s.push(t);f=d[m];f.la=f.h;for(var u=s.length-1;!p.Va&&0<=u&&f.la;u--)p.currentTarget=s[u],e&=de(f,s[u],c,m,p);if(l){f=d[r];f.la=f.h;for(u=0;!p.Va&&u<s.length&&f.la;u++)p.currentTarget=s[u],e&=de(f,s[u],c,r,p)}}else e=ce(a,p)}finally{s&&(s.length=0)}return e}c=new Jd(b,this);return e=ce(a,c)},ee="__closure_events_fn_"+(1E9*Math.random()>>>0),Td=function(a){return ga(a)?a:a[ee]||(a[ee]=function(b){return a.handleEvent(b)})};var X=function(a){this.c=a;this.j={}};C(X,Hd);var fe=[];X.prototype.n=function(a,b,c,d,e){da(b)||(fe[0]=b,b=fe);for(var f=0;f<b.length;f++){var h=W(a,b[f],c||this,d||r,e||this.c||this);this.j[h.key]=h}return this};X.prototype.gd=function(a,b,c,d,e){if(da(b))for(var f=0;f<b.length;f++)this.gd(a,b[f],c,d,e);else a=Xd(a,b,c||this,d,e||this.c||this),this.j[a.key]=a;return this};
X.prototype.Mc=function(a,b,c,d,e){if(da(b))for(var f=0;f<b.length;f++)this.Mc(a,b[f],c,d,e);else{t:if(e=e||this.c||this,d=!!d,c=Td(c||this),Md(a))a=a.V[b],b=-1,a&&(b=ge(a,c,d,e)),e=-1<b?a[b]:n;else{if(a=Zd(a,b,d))for(b=0;b<a.length;b++)if(!a[b].T&&a[b].ta==c&&a[b].capture==d&&a[b].ub==e){e=a[b];break t}e=n}e&&($d(e),delete this.j[e.key])}return this};var he=function(a){sb(a.j,$d);a.j={}};X.prototype.m=function(){X.u.m.call(this);he(this)};X.prototype.handleEvent=function(){g(Error("EventHandler.handleEvent not implemented"))};var Y=function(){this.V={};this.Jg=this};C(Y,Hd);Y.prototype[Ld]=m;v=Y.prototype;v.jc=n;v.Oc=function(a){this.jc=a};v.addEventListener=function(a,b,c,d){W(this,a,b,c,d)};v.removeEventListener=function(a,b,c,d){Yd(this,a,b,c,d)};
v.dispatchEvent=function(a){var b,c=this.jc;if(c){b=[];for(var d=1;c;c=c.jc)b.push(c),++d}c=this.Jg;d=a.type||a;if(A(a))a=new Q(a,c);else if(a instanceof Q)a.target=a.target||c;else{var e=a;a=new Q(d,c);yb(a,e)}var e=m,f;if(b)for(var h=b.length-1;!a.Va&&0<=h;h--)f=a.currentTarget=b[h],e=ie(f,d,m,a)&&e;a.Va||(f=a.currentTarget=c,e=ie(f,d,m,a)&&e,a.Va||(e=ie(f,d,r,a)&&e));if(b)for(h=0;!a.Va&&h<b.length;h++)f=a.currentTarget=b[h],e=ie(f,d,r,a)&&e;return e};
v.m=function(){Y.u.m.call(this);var a=0,b;for(b in this.V){for(var c=this.V[b],d=0;d<c.length;d++)++a,delete Pd[c[d].key],c[d].T=m;c.length=0}this.jc=n};v.n=function(a,b,c,d){return je(this,a,b,r,c,d)};v.gd=function(a,b,c,d){return je(this,a,b,m,c,d)};var je=function(a,b,c,d,e,f){var h=a.V[b]||(a.V[b]=[]),l=ge(h,c,e,f);if(-1<l)return a=h[l],d||(a.gb=r),a;a=new Od(c,n,a,b,!!e,f);a.gb=d;h.push(a);return a};
Y.prototype.Mc=function(a,b,c,d){if(!(a in this.V))return r;a=this.V[a];b=ge(a,b,c,d);return-1<b?(c=a[b],delete Pd[c.key],c.T=m,1==hb.splice.call(a,b,1).length):r};
var ae=function(a,b){var c=b.type;if(!(c in a.V))return r;if(c=mb(a.V[c],b))delete Pd[b.key],b.T=m;return c},ie=function(a,b,c,d){if(!(b in a.V))return m;var e=m;b=ob(a.V[b]);for(var f=0;f<b.length;++f){var h=b[f];h&&(!h.T&&h.capture==c)&&(h.gb&&ae(a,h),e=h.handleEvent(d)!==r&&e)}return e&&d.Le!=r},ge=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(f.ta==b&&f.capture==!!c&&f.ub==d)return e}return-1};var ke=function(a,b){for(var c=[a],d=b.length-1;0<=d;--d)c.push(typeof b[d],b[d]);return c.join("\x0B")};var me=function(a,b){Y.call(this);this.fb=a||1;this.kb=b||le;this.jd=B(this.Kg,this);this.kd=va()};C(me,Y);me.prototype.enabled=r;var le=w;v=me.prototype;v.ba=n;v.Kg=function(){if(this.enabled){var a=va()-this.kd;0<a&&a<0.8*this.fb?this.ba=this.kb.setTimeout(this.jd,this.fb-a):(this.ba&&(this.kb.clearTimeout(this.ba),this.ba=n),this.dispatchEvent("tick"),this.enabled&&(this.ba=this.kb.setTimeout(this.jd,this.fb),this.kd=va()))}};
v.start=function(){this.enabled=m;this.ba||(this.ba=this.kb.setTimeout(this.jd,this.fb),this.kd=va())};v.stop=function(){this.enabled=r;this.ba&&(this.kb.clearTimeout(this.ba),this.ba=n)};v.m=function(){me.u.m.call(this);this.stop();delete this.kb};(function(a,b){var c=ra(a),d=b||ke;return function(){var b=this||w,b=b.closure_memoize_cache_||(b.closure_memoize_cache_={}),f=d(c,arguments);return b.hasOwnProperty(f)?b[f]:b[f]=a.apply(this,arguments)}})(function(){return E?8<=document.documentMode:"onhashchange"in w});var re=function(a,b){this.fa=this.J=this.Mb=this.Ec=this.vb=this.wb=0;this.Pb=1;this.Ma=this.Na=Number.NaN;this.La=ne;this.Ka=oe;this.Yb=1;this.Tb=this.ia=this.Z=0;this.sb=new Float32Array(3);this.Cc=id();this.Rd=id();this.Dc=id();this.Fc=id();this.sd=id();this.Sd=id();pe(this,a,b);qe(this,0,0)},se=75/180*Math.PI,te=100/180*Math.PI,oe=85/180*Math.PI,ne=-85/180*Math.PI,ue=ed(0),ve=ed(1),pe=function(a,b,c,d,e){a.wb=b;a.vb=c;a.Ec=z(d)?d:b;a.Mb=z(e)?e:c;a.Yb=a.wb/a.vb;we(a);xe(a)},ze=function(a,b,c,d,
e){var f=Math.min(b,c);b=Math.max(b,c);b-f>=2*Math.PI-0.001?ye(a):(c=Math.min(d,e),d=Math.max(d,e),e=a.Na!=f||a.Ma!=b||a.La!=c||a.Ka!=d,a.Na=f,a.Ma=b,a.La=c,a.Ka=d,e&&qe(a,(a.Ka+a.La)/2,(a.Ma+a.Na)/2))},ye=function(a,b){a.Na=Number.NaN;a.Ma=Number.NaN;a.La=ne;a.Ka=oe;b!=n&&b&&qe(a,(a.Ka+a.La)/2,Math.PI)},qe=function(a,b,c){a.J=b;a.fa=c;Ae(a)};re.prototype.move=function(a,b){this.J+=a;this.fa+=b;Ae(this)};
var Be=function(a,b,c){var d=Math.cos(a);c[0]=Math.sin(b)*d;c[1]=Math.sin(a);c[2]=Math.cos(b)*d};re.prototype.Me=function(a,b){var c=Ce[0];md(this.Fc,a,c);b.x=c[0];b.y=c[1]};
var De=function(a,b,c,d){a.Ec!=a.wb&&(b*=a.wb/a.Ec);a.Mb!=a.vb&&(c*=a.vb/a.Mb);var e=Ce[0];e[0]=b;e[1]=c;e[2]=1;b=Ce[1];md(a.Sd,e,b);a=Ce[0];fd(b,a);d.x=Math.asin(a[1]);a=Math.atan2(a[0],a[2]);0>a&&(a+=2*Math.PI);d.y=a},we=function(a){var b=1/Math.pow(2,a.Pb-1);a.Z=se*b;a.ia=a.Z*a.Yb;a.ia>Math.PI&&(a.ia=te*b,a.Z=a.ia/a.Yb);b=Math.min(Math.max(a.Z,a.ia)*0.5*Math.sqrt(2),0.8*(Math.PI/2));a.Tb=Math.cos(b)},xe=function(a){var b=a.Yb,c=a.Z/2,d=Math.sin(c);0==d||0==b||(c=Math.cos(c)/d,jd(a.Dc,c/b,c,-1.02/
0.98,-1,0,0,-0.04/0.98,0));b=a.wb/2;c=a.vb/2;jd(Ee[0],b,-c,1,0,b,c,0,1);ld(Ee[0],a.Dc,a.Rd);Fe(a)},Ae=function(a){!isNaN(a.Na)&&!isNaN(a.Ma)?(a.J<a.La+a.Z/2.5&&(a.J=a.La+a.Z/2.5),a.J>a.Ka-a.Z/2.5&&(a.J=a.Ka-a.Z/2.5),a.fa<a.Na+a.ia/2.5&&(a.fa=a.Na+a.ia/2.5),a.fa>a.Ma-a.ia/2.5&&(a.fa=a.Ma-a.ia/2.5)):a.J<ne?a.J=ne:a.J>oe&&(a.J=oe);Be(a.J,a.fa,a.sb);var b=a.Cc,c=nd[0],d=a.sb;c[0]=d[0]-ue[0];c[1]=d[1]-ue[1];c[2]=d[2]-ue[2];fd(c,c);c[3]=0;d=nd[1];hd(c,ve,d);fd(d,d);d[3]=0;var e=nd[2];hd(d,c,e);fd(e,e);
e[3]=0;c[0]=-c[0];c[1]=-c[1];c[2]=-c[2];kd(b,0,d);kd(b,1,e);kd(b,2,c);b[3]=0;b[7]=0;b[11]=0;b[15]=1;var c=-ue[0],d=-ue[1],e=-ue[2],f=b[1]*c+b[5]*d+b[9]*e+b[13],h=b[2]*c+b[6]*d+b[10]*e+b[14],l=b[3]*c+b[7]*d+b[11]*e+b[15];b[12]=b[0]*c+b[4]*d+b[8]*e+b[12];b[13]=f;b[14]=h;b[15]=l;Fe(a)},Fe=function(a){ld(a.Rd,a.Cc,a.Fc);ld(a.Dc,a.Cc,a.sd);var b=a.Fc;a=a.Sd;var c=b[0],d=b[1],e=b[2],f=b[3],h=b[4],l=b[5],p=b[6],q=b[7],s=b[8],t=b[9],u=b[10],y=b[11],x=b[12],H=b[13],J=b[14],b=b[15],R=c*l-d*h,S=c*p-e*h,T=c*
q-f*h,U=d*p-e*l,V=d*q-f*l,ha=e*q-f*p,ia=s*H-t*x,ja=s*J-u*x,ka=s*b-y*x,la=t*J-u*H,ma=t*b-y*H,na=u*b-y*J,D=R*na-S*ma+T*la+U*ka-V*ja+ha*ia;0!=D&&(D=1/D,a[0]=(l*na-p*ma+q*la)*D,a[1]=(-d*na+e*ma-f*la)*D,a[2]=(H*ha-J*V+b*U)*D,a[3]=(-t*ha+u*V-y*U)*D,a[4]=(-h*na+p*ka-q*ja)*D,a[5]=(c*na-e*ka+f*ja)*D,a[6]=(-x*ha+J*T-b*S)*D,a[7]=(s*ha-u*T+y*S)*D,a[8]=(h*ma-l*ka+q*ia)*D,a[9]=(-c*ma+d*ka-f*ia)*D,a[10]=(x*V-H*T+b*R)*D,a[11]=(-s*V+t*T-y*R)*D,a[12]=(-h*la+l*ja-p*ia)*D,a[13]=(c*la-d*ja+e*ia)*D,a[14]=(-x*U+H*S-J*R)*
D,a[15]=(s*U-t*S+u*R)*D)},Ce=[new Float32Array(3),new Float32Array(3)],Ee=[id()];var Ge=function(){};Ge.df=function(){return Ge.gf?Ge.gf:Ge.gf=new Ge};Ge.prototype.hg=0;Ge.df();var He=function(a){Y.call(this);this.Fe=a||Fc()};C(He,Y);v=He.prototype;v.gg=Ge.df();v.ua=n;v.Sa=r;v.d=n;v.cb=n;v.cc=n;v.bc=n;v.Qf=r;v.ob=function(){return this.d};v.Oc=function(a){this.cb&&this.cb!=a&&g(Error("Method not supported"));He.u.Oc.call(this,a)};v.hd=function(){this.d=this.Fe.createElement("div")};v.D=function(a){this.Sa&&g(Error("Component already rendered"));this.d||this.hd();a?a.insertBefore(this.d,n):this.Fe.Ge().body.appendChild(this.d);(!this.cb||this.cb.Sa)&&Ie(this)};
var Ie=function(a){a.Sa=m;Je(a,function(a){!a.Sa&&a.ob()&&Ie(a)})},Ke=function(a){Je(a,function(a){a.Sa&&Ke(a)});a.dc&&he(a.dc);a.Sa=r};He.prototype.m=function(){this.Sa&&Ke(this);this.dc&&(this.dc.Ua(),delete this.dc);Je(this,function(a){a.Ua()});!this.Qf&&this.d&&Kc(this.d);this.cb=this.d=this.bc=this.cc=n;He.u.m.call(this)};var Je=function(a,b){a.cc&&jb(a.cc,b,k)};
He.prototype.removeChild=function(a,b){if(a){var c=A(a)?a:a.ua||(a.ua=":"+(a.gg.hg++).toString(36)),d;this.bc&&c?(d=this.bc,d=(c in d?d[c]:k)||n):d=n;a=d;c&&a&&(d=this.bc,c in d&&delete d[c],mb(this.cc,a),b&&(Ke(a),a.d&&Kc(a.d)),c=a,c==n&&g(Error("Unable to set parent component")),c.cb=n,He.u.Oc.call(c,n))}a||g(Error("Child is not in parent component"));return a};var Le=function(a,b){He.call(this);this.I=document.createElement("img");this.I.style.zIndex=1;this.ge=b;this.Re=-1;this.I.src=a;Xc(this.I,"user-select","none");W(this.I,"mouseover",B(function(){this.I.style.zIndex=-1},this))};C(Le,He);Le.prototype.hd=function(){this.I.style.position="absolute";Xc(this.I,"transition","opacity .25s ease-in-out");this.d=this.I};Le.prototype.Lc=function(){this.I.style.opacity=0;this.Re=setTimeout(B(function(){this.I.style.zIndex=-1},this),250)};
Le.prototype.show=function(){clearTimeout(this.Re);this.I.style.zIndex=1;this.I.style.opacity=1};var Me=function(a,b,c){this.o=a;this.na=b;this.oa=c;this.id=1E6*this.o.Q+1E3*this.na+this.oa;this.tc=this.o.w-(this.na==this.o.ca-1&&0<this.o.Xa?this.o.Xa:0);this.td=this.o.F-(this.oa==this.o.pa-1&&0<this.o.Ya?this.o.Ya:0);this.nf=this.tc!=this.o.w;(0>this.na||0>this.oa||1E3<=this.na||1E3<=this.oa)&&g(Error("We currently don't support pyramid levels larger than 1000000^2 tiles."))};var Oe=function(a,b,c){this.id=Ne++;this.o=a;this.Kf=b;this.Lf=c;this.H=new Float32Array(3);this.Ta=new O(0,0);this.Zd=-1;Be(this.kg,this.lg,this.H)},Pe=function(a,b,c){var d=a.o.Q-b.o.Q;0>d&&g(Error("targetTile must be at a coarser or equal to original level: ",b.o.Q,a.o.Q));if(b.id!=a.Zd){a.Zd=b.id;var e=a.Lf-(b.o.F<<d)*b.oa;a.Ta.x=Math.min(b.tc-1.5,Math.max(-0.5,a.Kf-(b.o.w<<d)*b.na>>d));a.Ta.y=Math.min(b.td-1.5,Math.max(-0.5,e>>d));c!=n&&c&&(a.Ta.x/=b.o.w,a.Ta.y/=b.o.F)}return a.Ta},Ne=0;var Re=function(a,b,c,d){this.id=Qe++;this.Qb=a;this.Aa=b;this.Ba=c;this.Ca=d};Re.prototype.visible=function(a,b){return gd(a.sb,b[this.Aa].H)>=a.Tb||gd(a.sb,b[this.Ba].H)>=a.Tb||gd(a.sb,b[this.Ca].H)>=a.Tb};var Qe=0;var Se=function(a,b){this.ra=a;this.Se=b!=n?b:n;this.Qe=[]},Te=function(a,b,c,d){var e=a.ra.nc(c,d,b),f=a.Qe[e];if(f!=n)return f.complete?f:n;f=new Image;f.crossOrigin="anonymous";if(a.Se!==n){var h=B(function(){f.complete&&this.Se(b,c,d,1E6*b+1E3*c+d,f)},a);W(f,E?"readystatechange":"load",h)}a.Qe[e]=f;f.src=e;return n};var We=function(a,b){this.ma=a;this.Nb=b!=n?b:this.ma.p[this.ma.p.length-1];this.Td=[];this.xb=[];this.yb=[];this.wa=[];this.Ac=[];this.v=[];for(var c=this.Nb,d=this.Nb,e=Math.sqrt(Ue/(2*d.ca*d.pa)),f=d.w/(2*e),h=d.F/(2*e),l=d.w/e,e=d.F/e,p=0,q=0,s=0;q<d.ca;++q)for(var t=q*d.w-0.5,p=t+(d.w-(q==d.ca-1?d.Xa:0)),s=t;s==t||s<p-f;s+=l)this.xb.push([s,q]);this.xb.push([Rc(d)-1.5,q-1]);for(p=l=f=0;l<d.pa;++l){q=l*d.F-0.5;f=q+(d.F-(l==d.pa-1?d.Ya:0));for(p=q;p==q||p<f-h;p+=e)this.yb.push([p,l])}this.yb.push([Sc(d)-
1.5,l-1]);d=this.xb.length;h=this.yb.length;for(e=0;e<d;++e)for(f=0;f<h;++f)this.wa.push(new Ve(c,this.xb[e][0],this.yb[f][0])),this.Ac.push(new O(0,0));for(var l={},u,e=0;e<d-1;++e)for(f=0;f<h-1;++f){p=e*h+f;q=(e+1)*h+f;s=e*h+(f+1);t=(e+1)*h+(f+1);u=this.xb[e][1];var y=this.yb[f][1],x=u+"-"+y;l[x]!=n?u=this.Td[l[x]]:(u=new Me(c,u,y),l[x]=this.Td.push(u)-1);u!=n&&(this.v.push(new Re(u,p,s,t)),this.v.push(new Re(u,p,q,t)))}},Ue=3200,Xe=function(a,b){for(var c=a.wa.length,d=0;d<c;++d)b.Me(a.wa[d].H,
a.Ac[d]);return a.Ac};var Ye=function(a){Tc.call(this,a)};C(Ye,Tc);Ye.prototype.nc=function(){return this.se};Ye.prototype.De=function(a){var b=new Image;b.crossOrigin="anonymous";if(a!=n){var c=B(function(){b.complete||g(Error("Could not load image: "+b.src));var c=new Mc;c.w=b.width;c.F=b.height;c.Qd=1;var e=new Qc(0,n,c.w,c.F);e.ca=1;e.pa=1;e.Xa=0;e.Ya=0;c.p.push(e);a(c)},this);W(b,E?"readystatechange":"load",c)}W(b,"error",function(){g(Error("Could not load image: "+b.src))});b.src=this.se;return m};var Ze=function(){};Ze.prototype.af=n;Ze.prototype.Xb=function(){var a;if(!(a=this.af))a={},$e(this)&&(a[0]=m,a[1]=m),a=this.af=a;return a};var af,bf=function(){};C(bf,Ze);var cf=function(a){return(a=$e(a))?new ActiveXObject(a):new XMLHttpRequest},$e=function(a){if(!a.ef&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.ef=d}catch(e){}}g(Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed"))}return a.ef};af=new bf;var df=function(a){Y.call(this);this.headers=new Bb;this.ac=a||n;this.sa=r;this.$b=this.e=n;this.Hc="";this.Oa=this.Gc=this.Zb=this.Ic=r;this.Yd=0;this.Ra=n;this.Wd="";this.Jf=r};C(df,Y);var ef=/^https?$/i,ff=["POST","PUT","DELETE"],gf=[],jf=function(a,b){var c=new df;gf.push(c);b&&W(c,"complete",b);W(c,"ready",ua(hf,c));c.send(a,k,k,k)},hf=function(a){a.Ua();mb(gf,a)};
df.prototype.send=function(a,b,c,d){this.e&&g(Error("[goog.net.XhrIo] Object is active with another request="+this.Hc+"; newUri="+a));b=b?b.toUpperCase():"GET";this.Hc=a;this.Ic=r;this.sa=m;this.e=this.ac?cf(this.ac):cf(af);this.$b=this.ac?this.ac.Xb():af.Xb();this.e.onreadystatechange=B(this.ce,this);try{this.Gc=m,this.e.open(b,a,m),this.Gc=r}catch(e){kf(this);return}a=c||"";var f=this.headers.ea();d&&Ab(d,function(a,b){f.set(b,a)});d=lb(f.Ia());c=w.FormData&&a instanceof w.FormData;0<=ib(ff,b)&&
(!d&&!c)&&f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");Ab(f,function(a,b){this.e.setRequestHeader(b,a)},this);this.Wd&&(this.e.responseType=this.Wd);"withCredentials"in this.e&&(this.e.withCredentials=this.Jf);try{this.Ra&&(le.clearTimeout(this.Ra),this.Ra=n),0<this.Yd&&(this.Ra=le.setTimeout(B(this.Of,this),this.Yd)),this.Zb=m,this.e.send(a),this.Zb=r}catch(h){kf(this)}};var kb=function(a){return"content-type"==a.toLowerCase()};
df.prototype.Of=function(){"undefined"!=typeof aa&&this.e&&(this.dispatchEvent("timeout"),this.abort(8))};var kf=function(a){a.sa=r;a.e&&(a.Oa=m,a.e.abort(),a.Oa=r);lf(a);mf(a)},lf=function(a){a.Ic||(a.Ic=m,a.dispatchEvent("complete"),a.dispatchEvent("error"))};df.prototype.abort=function(){this.e&&this.sa&&(this.sa=r,this.Oa=m,this.e.abort(),this.Oa=r,this.dispatchEvent("complete"),this.dispatchEvent("abort"),mf(this))};
df.prototype.m=function(){this.e&&(this.sa&&(this.sa=r,this.Oa=m,this.e.abort(),this.Oa=r),mf(this,m));df.u.m.call(this)};df.prototype.ce=function(){!this.Gc&&!this.Zb&&!this.Oa?this.Pg():nf(this)};df.prototype.Pg=function(){nf(this)};
var nf=function(a){if(a.sa&&"undefined"!=typeof aa&&(!a.$b[1]||!(4==(a.e?a.e.readyState:0)&&2==of(a))))if(a.Zb&&4==(a.e?a.e.readyState:0))le.setTimeout(B(a.ce,a),0);else if(a.dispatchEvent("readystatechange"),4==(a.e?a.e.readyState:0)){a.sa=r;try{var b=of(a),c,d;t:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:d=m;break t;default:d=r}if(!(c=d)){var e;if(e=0===b){var f=gb(String(a.Hc))[1]||n;if(!f&&self.location)var h=self.location.protocol,f=h.substr(0,h.length-1);e=!ef.test(f?
f.toLowerCase():"")}c=e}c?(a.dispatchEvent("complete"),a.dispatchEvent("success")):lf(a)}finally{mf(a)}}},mf=function(a,b){if(a.e){var c=a.e,d=a.$b[0]?ba:n;a.e=n;a.$b=n;a.Ra&&(le.clearTimeout(a.Ra),a.Ra=n);b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){}}};df.prototype.rd=function(){return!!this.e};var of=function(a){try{return 2<(a.e?a.e.readyState:0)?a.e.status:-1}catch(b){return-1}};var qf=function(a,b){pf(a,function(a){b(a)})},pf=function(a,b){var c=window.XDomainRequest;if(c){var d=new c;d.open("GET",a);d.onload=function(){var a;var c=d.responseText;if("undefined"!=typeof DOMParser)a=(new DOMParser).parseFromString(c,"application/xml");else if("undefined"!=typeof ActiveXObject){if(a=new ActiveXObject("MSXML2.DOMDocument")){a.resolveExternals=r;a.validateOnParse=r;try{a.setProperty("ProhibitDTD",m),a.setProperty("MaxXMLSize",2048),a.setProperty("MaxElementDepth",256)}catch(h){}}a.loadXML(c)}else g(Error("Your browser does not support loading xml documents"));
b(a)};d.onerror=function(){b(n)};d.onprogress=function(){};d.send()}else jf(a,function(){var a;try{a=this.e?this.e.responseXML:n}catch(c){a=n}b(a)})};var rf=function(a){this.nb=a!=n?a:document.createElement("canvas");this.Ne=n;this.q=new O(0,0)},sf=function(a,b,c,d,e,f,h,l,p){if(c!=a.Ne){a.Ne=c;c=a.nb.getContext("2d");var q=function(a,b){var c=Z[3],d=a.x-c.x,e=a.y-c.y,f=Math.sqrt(d*d+e*e);b.x=c.x+(f+3)*(d/f);b.y=c.y+(f+3)*(e/f)};Z[3].x=(h.x+l.x+p.x)/3;Z[3].y=(h.y+l.y+p.y)/3;q(h,Z[0]);q(l,Z[1]);q(p,Z[2]);p=Math.min(Z[0].x,Z[1].x,Z[2].x)-1;q=Math.max(Z[0].x,Z[1].x,Z[2].x)+1;h=Math.min(Z[0].y,Z[1].y,Z[2].y)-1;l=Math.max(Z[0].y,Z[1].y,Z[2].y)+1;a.q.x=
p;a.q.y=h;p=q-p+1;h=l-h+1;1>p||1>h||(a.nb.width!=p||a.nb.height!=h?(a.nb.width=p,a.nb.height=h):c.clearRect(0,0,p,h),c.beginPath(),c.moveTo(Z[0].x-a.q.x,Z[0].y-a.q.y),c.lineTo(Z[1].x-a.q.x,Z[1].y-a.q.y),c.lineTo(Z[2].x-a.q.x,Z[2].y-a.q.y),c.closePath(),c.clip(),!d||3>=e||3>=f?c.drawImage(b,-a.q.x,-a.q.y):c.drawImage(b,0,0,e-3,f-3,-a.q.x,-a.q.y,e,f))}};
rf.prototype.D=function(a,b,c,d,e,f,h,l,p,q,s,t){sf(this,a,b,c,d,e,f,h,l);a=f.x-this.q.x;f=f.y-this.q.y;b=h.x-this.q.x;h=h.y-this.q.y;c=l.x-this.q.x;l=l.y-this.q.y;d=q.x;q=q.y;e=s.x;s=s.y;var u=t.x;t=t.y;var y=tf,x=a*(l-h)-b*l+c*h+(b-c)*f;0==x?t=r:(x=1/x,y[0]=-(f*(u-e)-h*u+l*e+(h-l)*d)*x,y[1]=(h*t+f*(s-t)-l*s+(l-h)*q)*x,y[2]=(a*(u-e)-b*u+c*e+(b-c)*d)*x,y[3]=-(b*t+a*(s-t)-c*s+(c-b)*q)*x,y[4]=(a*(l*e-h*u)+f*(b*u-c*e)+(c*h-b*l)*d)*x,y[5]=(a*(l*s-h*t)+f*(b*t-c*s)+(c*h-b*l)*q)*x,t=0==y[0]||0==y[3]?r:m);
t&&(p.save(),p.setTransform(tf[0],tf[1],tf[2],tf[3],tf[4],tf[5]),p.drawImage(this.nb,0,0),p.restore())};var tf=[],Z=[new O(0,0),new O(0,0),new O(0,0),new O(0,0)];var uf=function(a,b){this.da=a;this.canvas=b},xf=function(a,b){var c=new vf(a,b);if(c.Kb())return c;c=new wf(a,b);return c.Kb()?c:n},wf=function(a,b){uf.call(this,a,b);this.G=n;this.Ud=[];for(var c=a.v,d=0;d<c.length;++d)this.Ud.push(new rf)};C(wf,uf);wf.prototype.Kb=function(){this.G=this.canvas.getContext("2d");return this.G==n?r:m};wf.prototype.Vd=function(){};wf.prototype.Be=function(){this.G!=n&&this.G.clearRect(0,0,this.canvas.width,this.canvas.height)};wf.prototype.Xd=function(){};
var yf=function(a,b,c){this.xc=a;this.Qb=b;this.Od=c},zf=function(a,b,c,d){var e=a.da.v,f=[],h=a.da;a=[];for(var l=h.v.length,p=0;p<l;++p)h.v[p].visible(b,h.wa)&&a.push(p);b=0;for(h=a.length;b<h;++b){for(var l=a[b],p=e[l],q=0,s=c.length;q<s;++q){var t=c[q],u;var y=p.Qb,x=t,H=y.o.Q-x.Q;0==H?u=y:0<H?u=new Me(x,y.na>>H,y.oa>>H):g(Error("targetLevel must be coarser or equal to original level: ",x.Q,y.o.Q));t=d(t.Q,u);if(t!=n)break}u!=n&&t!=n&&f.push(new yf(l,u,t))}return f};
wf.prototype.D=function(a,b,c){b=zf(this,a,b,function(a,b){return Te(c,a,b.na,b.oa)});var d=this.da.v,e=this.da.wa;a=Xe(this.da,a);this.G.clearRect(0,0,this.canvas.width,this.canvas.height);for(var f=0,h=b.length;f<h;++f){var l=b[f],p=d[l.xc],q=l.Qb;this.Ud[l.xc].D(l.Od,q.id,q.nf,q.tc,q.td,Pe(e[p.Aa],q),Pe(e[p.Ba],q),Pe(e[p.Ca],q),this.G,a[p.Aa],a[p.Ba],a[p.Ca])}};var vf=function(a,b){uf.call(this,a,b);this.yd=this.ga=this.G=n;this.Fa=this.Ga=0;this.Da=this.Ha=this.qa=n;this.Ub={}};C(vf,uf);v=vf.prototype;
v.Kb=function(){if(!zd())return r;this.G=yd(this.canvas);if(this.G==n)return r;var a=this.G;this.ga=sd(a);if(this.ga==n||!this.ga.Pd)return r;var b=this.ga.Ja;a.useProgram(b);this.Ga=a.getAttribLocation(b,"aVertexPosition");a.enableVertexAttribArray(this.Ga);this.Fa=a.getAttribLocation(b,"aTextureCoord");a.enableVertexAttribArray(this.Fa);this.yd=a.getUniformLocation(b,"uModelViewProjMatrix");a.clearColor(0,0,0,1);a.disable(a.DEPTH_TEST);a.enable(a.BLEND);a.blendFunc(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA);
a.viewport(0,0,a.canvas.width,a.canvas.height);for(var c=this.da.v,d=this.da.wa,e=new Float32Array(9*c.length),f=0,h=0;f<c.length;++f,h+=9)e[h+0]=d[c[f].Aa].H[0],e[h+1]=d[c[f].Aa].H[1],e[h+2]=d[c[f].Aa].H[2],e[h+3]=d[c[f].Ba].H[0],e[h+4]=d[c[f].Ba].H[1],e[h+5]=d[c[f].Ba].H[2],e[h+6]=d[c[f].Ca].H[0],e[h+7]=d[c[f].Ca].H[1],e[h+8]=d[c[f].Ca].H[2];this.qa=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.qa);a.bufferData(a.ARRAY_BUFFER,e,a.STATIC_DRAW);this.Da=a.createBuffer();this.Ha=a.createBuffer();
a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.Ha);a.bufferData(a.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2]),a.STATIC_DRAW);a.uniform1f(a.getUniformLocation(b,"uSampler"),0);a.uniform1f(a.getUniformLocation(b,"uAlpha"),1);return m};v.Vd=function(){var a=this.G,b;for(b in this.Ub)a.deleteTexture(this.Ub[b]);a.deleteBuffer(this.qa);a.deleteBuffer(this.Da);a.deleteBuffer(this.Ha)};v.Be=function(){var a=this.G;a!=n&&a.clear(a.COLOR_BUFFER_BIT)};
v.Xd=function(a,b){var c=this.G,d=c.createTexture();if(d!=n){var e=b.width,f=b.height,e=0==(e&e-1)&&0==(f&f-1);c.activeTexture(c.TEXTURE0);c.bindTexture(c.TEXTURE_2D,d);c.texImage2D(c.TEXTURE_2D,0,c.RGBA,c.RGBA,c.UNSIGNED_BYTE,b);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.LINEAR);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE);e?(c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.LINEAR_MIPMAP_LINEAR),c.generateMipmap(c.TEXTURE_2D)):
c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.LINEAR);c.bindTexture(c.TEXTURE_2D,n);this.Ub[a]=d}};
v.D=function(a,b,c){var d=this.G;b=zf(this,a,b,B(function(a,b){Te(c,a,b.na,b.oa);return this.Ub[b.id]},this));var e=this.da.v,f=this.da.wa;d.clear(d.COLOR_BUFFER_BIT);d.uniformMatrix4fv(this.yd,r,new Float32Array(a.sd));a=0;for(var h=b.length;a<h;++a){var l=b[a],p=l.xc,q=e[p],s=l.Qb,t=Pe(f[q.Aa],s,m),u=Pe(f[q.Ba],s,m),q=Pe(f[q.Ca],s,m);d.bindBuffer(d.ARRAY_BUFFER,this.qa);d.vertexAttribPointer(this.Ga,3,d.FLOAT,r,12,36*p);d.bindBuffer(d.ARRAY_BUFFER,this.Da);p=Af;p[0]=t.x;p[1]=t.y;p[2]=u.x;p[3]=u.y;
p[4]=q.x;p[5]=q.y;d.bufferData(d.ARRAY_BUFFER,p,d.STATIC_DRAW);d.vertexAttribPointer(this.Fa,2,d.FLOAT,r,0,0);d.bindTexture(d.TEXTURE_2D,l.Od);d.drawElements(d.TRIANGLES,3,d.UNSIGNED_SHORT,0)}};var Af=new Float32Array(6);var Ve=function(a,b,c){this.kg=a.oe-a.pe*c/(Sc(a)-1);this.lg=a.qe+a.sc*(1-b/(Rc(a)-1));Oe.call(this,a,b,c)};C(Ve,Oe);var Bf=function(a,b){We.call(this,a,b)};C(Bf,We);var Cf=function(a,b){Y.call(this);this.i=a;this.k=b;this.Ob=this.R=this.qb=this.ra=this.ma=n;this.yc=this.bb=this.xa=r;this.If="";this.uc=m};C(Cf,Y);
var Df=2,Ff=function(a,b){b.De(B(function(a){Ef(this,a,b)},a))||(a.ra!=n&&(a.ra.nc(0,0,0)!=b.nc(0,0,0)&&!a.bb)&&(a.R.Be(),a.R=n),qf(Vc(b,"g"),B(function(a){var d=n;if(a!=n)try{d=new Mc(a,m)}catch(e){g(Error("Error while loading: "+e))}if(!d||!d.Qd){a=b.Ce();if(0<a.length){this.bb||(a=new Ye(a),a.tb(b.Vb),Ff(this,a),this.bb=m,d||Gf(this,b));return}g(Error("Error loading XML: "+Vc(b,"g")))}this.yc=this.bb;this.bb=r;d!==n&&Ef(this,d,b)},a)))},Ef=function(a,b,c){if(a.If!=c.url){a.R!=n&&a.R.Vd();var d=
c.Vb;d!=n?(b.tb(d),ze(a.k,d[1],d[1]+d[0],d[3]-d[2],d[3])):ye(a.k,!a.yc);a.yc=r;a.ma=b;a.ra=c;a.qb=n;a.R=n;a.uc=m;a.Ob=new Se(a.ra,B(function(a,b,c,d,p){0==a&&(0==b&&0==c)&&this.dispatchEvent(new Q("root_tile_loaded"));this.R.Xd(d,p);setTimeout(B(this.D,this),0)},a));a.qb=new Bf(a.ma);a.R=xf(a.qb,a.i);a.R!=n&&Te(a.Ob,0,0,0)}};
Cf.prototype.D=function(){if(this.qb!=n&&this.R!=n&&this.ma.p!=n&&this.Ob!=n){if(1<Df&&this.R instanceof wf){var a=this.i.offsetWidth,b=this.i.offsetHeight;if(isNaN(a)||isNaN(b))a=this.i.width,b=this.i.height,ad(this.i,a+"px",b+"px");var c=this.i.width!=a||this.i.height!=b,d=1/Df;this.xa&&!c?(this.i.width=a*d,this.i.height=b*d,pe(this.k,this.i.width,this.i.height,a,b)):!this.xa&&(c&&0<a&&0<a)&&(this.i.width=a,this.i.height=b,pe(this.k,this.i.width,this.i.height))}t:{a=this.qb;b=this.k.Mb/(180*(this.k.Z/
Math.PI));for(c=0;c<a.Nb.Q;++c)if(d=this.ma.p[c],d!=n&&d.w/(180*(d.sc/Math.PI)/d.ca)>b){a=d;break t}a=a.Nb}this.R.D(this.k,[a,this.ma.p[0]],this.Ob);this.uc&&(this.dispatchEvent(new Q("root_tile_rendered")),this.uc=r)}};var Gf=function(a,b){var c=new me(2E3),d=0;W(c,"tick",B(function(){this.bb?10<=++d?c.stop():Ff(this,b):c.stop()},a));c.start()};var Hf=function(a){var b=a;"function"==typeof a.ob&&(b=b.ob());b==n&&g(Error("Element must be set."));return b},If=function(a){var b=a.W,c=n;b.targetTouches&&0<b.targetTouches.length?c=b.targetTouches:b.changedTouches&&0<b.changedTouches.length&&(c=b.changedTouches);if(c){var d=a.target,e,b=Ec(d),f=Yc(d,"position"),h=Qa&&b.getBoxObjectFor&&!d.getBoundingClientRect&&"absolute"==f&&(e=b.getBoxObjectFor(d))&&(0>e.screenX||0>e.screenY);a=new N(0,0);var l;e=b?Ec(b):document;if(l=E)if(l=!(E&&9<=db))l="CSS1Compat"!=
Fc(e).O.compatMode;l=l?e.body:e.documentElement;if(d!=l)if(d.getBoundingClientRect)e=d.getBoundingClientRect(),E&&(d=d.ownerDocument,e.left-=d.documentElement.clientLeft+d.body.clientLeft,e.top-=d.documentElement.clientTop+d.body.clientTop),d=Fc(b).O,b=!F&&"CSS1Compat"==d.compatMode?d.documentElement:d.body,d=d.parentWindow||d.defaultView,b=E&&G("10")&&d.pageYOffset!=b.scrollTop?new N(b.scrollLeft,b.scrollTop):new N(d.pageXOffset||b.scrollLeft,d.pageYOffset||b.scrollTop),a.x=e.left+b.x,a.y=e.top+
b.y;else if(b.getBoxObjectFor&&!h)e=b.getBoxObjectFor(d),b=b.getBoxObjectFor(l),a.x=e.screenX-b.screenX,a.y=e.screenY-b.screenY;else{e=d;do{a.x+=e.offsetLeft;a.y+=e.offsetTop;e!=d&&(a.x+=e.clientLeft||0,a.y+=e.clientTop||0);if(F&&"fixed"==Yc(e,"position")){a.x+=b.body.scrollLeft;a.y+=b.body.scrollTop;break}e=e.offsetParent}while(e&&e!=d);if(Pa||F&&"absolute"==f)a.y-=b.body.offsetTop;for(e=d;(e=Zc(e))&&e!=b.body&&e!=l;)if(a.x-=e.scrollLeft,!Pa||"TR"!=e.tagName)a.y-=e.scrollTop}return new N(c[0].pageX-
a.x,c[0].pageY-a.y)}return new N(a.offsetX,a.offsetY)};var Jf=function(a,b){Q.call(this,"zoom");this.Tc=a;this.ng=z(b)?b:n};C(Jf,Q);var Kf=function(a,b,c){this.Nc=a;this.fb=b||0;this.c=c;this.Eg=B(this.Fg,this)};C(Kf,Hd);v=Kf.prototype;v.ua=0;v.m=function(){Kf.u.m.call(this);this.stop();delete this.Nc;delete this.c};v.start=function(a){this.stop();var b=this.Eg;a=z(a)?a:this.fb;ga(b)||(b&&"function"==typeof b.handleEvent?b=B(b.handleEvent,b):g(Error("Invalid listener argument")));this.ua=2147483647<a?-1:le.setTimeout(b,a||0)};v.stop=function(){this.rd()&&le.clearTimeout(this.ua);this.ua=0};v.rd=function(){return 0!=this.ua};
v.Fg=function(){this.ua=0;this.Nc&&this.Nc.call(this.c)};var vb={},Lf=n,Mf=function(a){a=ra(a);delete vb[a];wb()&&Lf&&Lf.stop()},Of=function(){Lf||(Lf=new Kf(function(){Nf()},20));var a=Lf;a.rd()||a.start()},Nf=function(){var a=va();sb(vb,function(b){Pf(b,a)});wb()||Of()};var Qf=function(){Y.call(this);this.$=0;this.Je=this.startTime=n};C(Qf,Y);Qf.prototype.aa=function(a){this.dispatchEvent(a)};var Rf=function(a,b,c,d){Qf.call(this);(!da(a)||!da(b))&&g(Error("Start and end parameters must be arrays"));a.length!=b.length&&g(Error("Start and end points must be the same length"));this.Jb=a;this.Ug=b;this.duration=c;this.Ze=d;this.coords=[]};C(Rf,Qf);v=Rf.prototype;v.P=0;v.Ig=n;
v.play=function(a){if(a||0==this.$)this.P=0,this.coords=this.Jb;else if(1==this.$)return r;Mf(this);this.startTime=a=va();-1==this.$&&(this.startTime-=this.duration*this.P);this.Je=this.startTime+this.duration;this.P||this.aa("begin");this.aa("play");-1==this.$&&this.aa("resume");this.$=1;var b=ra(this);b in vb||(vb[b]=this);Of();Pf(this,a);return m};v.stop=function(a){Mf(this);this.$=0;a&&(this.P=1);Sf(this,this.P);this.aa("stop");this.aa("end")};
v.m=function(){0==this.$||this.stop(r);this.aa("destroy");Rf.u.m.call(this)};var Pf=function(a,b){a.P=(b-a.startTime)/(a.Je-a.startTime);1<=a.P&&(a.P=1);a.Ig=b;Sf(a,a.P);1==a.P?(a.$=0,Mf(a),a.aa("finish"),a.aa("end")):1==a.$&&a.aa("animate")},Sf=function(a,b){ga(a.Ze)&&(b=a.Ze(b));a.coords=Array(a.Jb.length);for(var c=0;c<a.Jb.length;c++)a.coords[c]=(a.Ug[c]-a.Jb[c])*b+a.Jb[c]};Rf.prototype.aa=function(a){this.dispatchEvent(new Tf(a,this))};
var Tf=function(a,b){Q.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.z=b.coords[2];this.duration=b.duration;this.P=b.P;this.state=b.$};C(Tf,Q);var Uf=function(a){return 1-Math.pow(1-a,3)};var Vf=function(a){Q.call(this,"drag_end");this.position=a};C(Vf,Q);var Wf=function(a){Q.call(this,"drag_hover");this.position=a};C(Wf,Q);var Xf=function(a){Q.call(this,"drag_move");this.position=a};C(Xf,Q);var Yf=function(a){Q.call(this,"drag_start");this.position=a};C(Yf,Q);var Zf=function(a,b){Y.call(this);this.element=Hf(a);this.ib=r;this.c=new X(this);P(this,this.c);this.Vc=r;this.lb=n;this.mg=!z(b)||b;this.Pa()};C(Zf,Y);Zf.prototype.Pa=function(){this.c.n(this.element,["mousedown","touchstart"],this.yg);this.c.n(this.element,["mouseup","touchend"],this.Qc);this.c.n(this.element,["mousemove","touchmove"],this.zg);this.c.n(document,["mouseup","touchend"],this.Qc)};
Zf.prototype.yg=function(a){a.preventDefault();if($f(a)){var b;if(b=a.button)b=!(Cd?0==a.W.button:"click"==a.type||a.W.button&Kd[0]);b?this.ib&&this.Qc(a):(this.ib=m,b=If(a),this.dispatchEvent(new Yf(If(a))))}};Zf.prototype.Qc=function(a){a.currentTarget!=document&&a.preventDefault();this.ib&&(this.ib=r,this.lb=n,this.dispatchEvent(new Vf(If(a))))};
Zf.prototype.zg=function(a){a.preventDefault();this.lb=a;this.Vc||(this.dispatchEvent(new Wf(If(a))),$f(a)&&this.ib&&(this.Vc=m,this.mg?setTimeout(B(this.Oe,this),1):this.Oe()))};var $f=function(a){a=a.W.targetTouches;return a!=n&&1<a.length?r:m};Zf.prototype.Oe=function(){this.Vc=r;if(this.ib&&this.lb){var a=If(this.lb);this.dispatchEvent(new Xf(If(this.lb)));this.lb=n}};var ag=function(a){Y.call(this);a=Hf(a);a==n&&g(Error("Glass element not found."));this.U=a;this.jg=1/(0.25*Math.max(window.innerWidth,window.innerHeight));this.we=0;this.ve=new O(0,0);this.c=new X(this);P(this,this.c);this.Pa()};C(ag,Y);ag.prototype.Pa=function(){Fd&&this.c.n(this.U,["touchstart","touchmove"],this.Uc)};
ag.prototype.Uc=function(a){var b=a.W.touches;if(2==b.length){var c,d=b[0],e=b[1];c=d.clientX-e.clientX;d=d.clientY-e.clientY;c=Math.sqrt(c*c+d*d);"touchstart"==a.type?(a=b[0],b=b[1],this.ve.x=(a.pageX+b.pageX)/2-this.U.offsetParent.offsetLeft,this.ve.y=(a.pageY+b.pageY)/2-this.U.offsetParent.offsetTop,this.we=c):"touchmove"==a.type&&this.dispatchEvent(new Jf((c-this.we)*this.jg,k))}};var bg=function(a){Q.call(this,"throw");this.$e=a};C(bg,Q);var cg=function(a){Y.call(this);this.c=new X(this);P(this,this.c);this.c.n(a,"drag_start",this.Uf);this.c.n(a,"drag_end",this.Sf);this.c.n(a,"drag_move",this.Tf);this.je=50;this.Rf=10;this.ke=1E3;this.Cb=0;this.Bb=new O(0,0);this.B=new O(0,0)};C(cg,Y);cg.prototype.Uf=function(a){this.Cb=va();this.Bb=new O(a.position.x,a.position.y);this.dispatchEvent(new bg(n))};
cg.prototype.Sf=function(){if(va()-this.Cb<4*this.je){this.B.scale(0.2);var a=Math.sqrt(this.B.x*this.B.x+this.B.y*this.B.y);a>this.ke&&this.B.scale(this.ke/a);Math.sqrt(this.B.x*this.B.x+this.B.y*this.B.y)>=this.Rf&&this.dispatchEvent(new bg(this.B))}this.Cb=0;this.Bb=new O(0,0);this.B=new O(0,0)};
cg.prototype.Tf=function(a){var b=va(),c=b-this.Cb;if(!(c<this.je)){this.B.x=a.position.x;this.B.y=a.position.y;var d=this.B,e=this.Bb;d.x-=e.x;d.y-=e.y;this.B.scale(1E3/c);this.Cb=b;this.Bb.x=a.position.x;this.Bb.y=a.position.y}};var dg=function(a){Q.call(this,"double_tap");this.position=a};C(dg,Q);var fg=function(a,b,c,d,e){if(!E&&(!F||!G("525")))return m;if(Ka&&e)return eg(a);if(e&&!d||!c&&(17==b||18==b||Ka&&91==b))return r;if(F&&d&&c)switch(a){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return r}if(E&&d&&b==a)return r;switch(a){case 13:return!(E&&E&&9<=db);case 27:return!F}return eg(a)},eg=function(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||F&&0==a)return m;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return m;
default:return r}},gg=function(a){switch(a){case 61:return 187;case 59:return 186;case 224:return 91;case 0:return 224;default:return a}};var hg=function(a,b){Y.call(this);a&&(this.lc&&this.detach(),this.d=a,this.kc=W(this.d,"keypress",this,b),this.Sc=W(this.d,"keydown",this.Gg,b,this),this.lc=W(this.d,"keyup",this.Hg,b,this))};C(hg,Y);v=hg.prototype;v.d=n;v.kc=n;v.Sc=n;v.lc=n;v.L=-1;v.va=-1;v.ld=r;
var ig={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},jg={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},kg=E||F&&G("525"),lg=Ka&&Qa;v=hg.prototype;
v.Gg=function(a){if(F&&(17==this.L&&!a.ctrlKey||18==this.L&&!a.altKey||Ka&&91==this.L&&!a.metaKey))this.va=this.L=-1;-1==this.L&&(a.ctrlKey&&17!=a.keyCode?this.L=17:a.altKey&&18!=a.keyCode?this.L=18:a.metaKey&&91!=a.keyCode&&(this.L=91));kg&&!fg(a.keyCode,this.L,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):(this.va=Qa?gg(a.keyCode):a.keyCode,lg&&(this.ld=a.altKey))};v.Hg=function(a){this.va=this.L=-1;this.ld=a.altKey};
v.handleEvent=function(a){var b=a.W,c,d,e=b.altKey;E&&"keypress"==a.type?(c=this.va,d=13!=c&&27!=c?b.keyCode:0):F&&"keypress"==a.type?(c=this.va,d=0<=b.charCode&&63232>b.charCode&&eg(c)?b.charCode:0):Pa?(c=this.va,d=eg(c)?b.keyCode:0):(c=b.keyCode||this.va,d=b.charCode||0,lg&&(e=this.ld),Ka&&(63==d&&224==c)&&(c=191));var f=c,h=b.keyIdentifier;c?63232<=c&&c in ig?f=ig[c]:25==c&&a.shiftKey&&(f=9):h&&h in jg&&(f=jg[h]);a=f==this.L;this.L=f;b=new mg(f,d,a,b);b.altKey=e;this.dispatchEvent(b)};v.ob=function(){return this.d};
v.detach=function(){this.kc&&($d(this.kc),$d(this.Sc),$d(this.lc),this.lc=this.Sc=this.kc=n);this.d=n;this.va=this.L=-1};v.m=function(){hg.u.m.call(this);this.detach()};var mg=function(a,b,c,d){d&&this.mb(d,k);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c};C(mg,Jd);var ng=function(a,b){Y.call(this);this.d=a;var c=oa(this.d)&&1==this.d.nodeType?this.d:this.d?this.d.body:n;c&&Yc(c,"direction");this.ye=W(this.d,Qa?"DOMMouseScroll":"mousewheel",this,b)};C(ng,Y);
ng.prototype.handleEvent=function(a){var b=0,c=0,d=0;a=a.W;if("mousewheel"==a.type){c=1;if(E||F&&(La||G("532.0")))c=40;d=og(-a.wheelDelta,c);z(a.wheelDeltaX)?(b=og(-a.wheelDeltaX,c),c=og(-a.wheelDeltaY,c)):c=d}else d=a.detail,100<d?d=3:-100>d&&(d=-3),z(a.axis)&&a.axis===a.HORIZONTAL_AXIS?b=d:c=d;fa(this.Ue)&&Math.min(Math.max(b,-this.Ue),this.Ue);fa(this.Ve)&&(c=Math.min(Math.max(c,-this.Ve),this.Ve));b=new pg(d,a,0,c);this.dispatchEvent(b)};var og=function(a,b){return F&&(Ka||Ta)&&0!=a%b?a:a/b};
ng.prototype.m=function(){ng.u.m.call(this);$d(this.ye);this.ye=n};var pg=function(a,b,c,d){b&&this.mb(b,k);this.type="mousewheel";this.detail=a;this.od=d};C(pg,Jd);var qg=function(a){Y.call(this);this.U=Hf(a);this.ig=300;this.ue=0;this.Rc=r;this.c=new X(this);P(this,this.c);this.Pa()};C(qg,Y);qg.prototype.Pa=function(){Fd&&this.c.n(this.U,["touchend","touchstart"],this.Uc)};
qg.prototype.Uc=function(a){if(1==a.W.changedTouches.length){var b=a.W.changedTouches[0];"touchend"==a.type?(a=new N(b.pageX-this.U.offsetParent.offsetLeft,b.pageY-this.U.offsetParent.offsetTop),b=va(),b-this.ue<this.ig&&this.Rc&&this.dispatchEvent(new dg(a)),this.ue=b,this.Rc=r):"touchstart"==a.type&&(this.Rc=m)}};var rg=function(a){Y.call(this);this.bg=43;this.ag=61;this.$f=45;this.cg=95;this.c=new X(this);P(this,this.c);this.U=Hf(a);this.be=new ng(this.U);P(this,this.be);this.$d=new qg(this.U);P(this,this.$d);this.ae=new hg(document);P(this,this.ae);this.Zf=r;this.Yf=m;this.re=0;this.Wf=0.5;this.Xf=100;this.Pa()};C(rg,Y);v=rg.prototype;v.Pa=function(){this.c.n(this.$d,"double_tap",this.dg);this.c.n(this.U,"dblclick",this.te);this.c.n(this.be,"mousewheel",this.fg);this.c.n(this.ae,"key",this.eg)};v.dg=function(){this.te()};
v.te=function(){this.dispatchEvent(new Jf(1,2))};v.fg=function(a){if(this.Yf){a.preventDefault();var b=va();0!=a.od&&b-this.re>=this.Xf&&(this.dispatchEvent(new Jf(-(0==a.od?0:0>a.od?-1:1)*this.Wf,1)),this.re=b)}};v.eg=function(a){if(this.Zf)switch(a.charCode){case this.bg:case this.ag:this.dispatchEvent(new Jf(1,3));break;case this.$f:case this.cg:this.dispatchEvent(new Jf(-1,3))}};var sg=function(a){this.c=new X(this);P(this,this.c);this.Za=this.ha=n;this.Jc=r;this.Rb=new O(0,0);this.fe=new rg(a);P(this,this.fe);this.c.n(this.fe,"zoom",this.Wb);this.de=new ag(a);P(this,this.de);this.c.n(this.de,"zoom",this.Wb);this.Ab=new Zf(a);P(this,this.Ab);this.c.n(this.Ab,"drag_move",this.Mf);this.c.n(this.Ab,"drag_start",this.Bc);this.c.n(this.Ab,"drag_end",this.zc);this.ee=new cg(this.Ab);P(this,this.ee);this.c.n(this.ee,"throw",this.Nf)};C(sg,Hd);v=sg.prototype;
v.Bc=function(){tg(this,n);this.pc();this.Jc=m};v.Mf=function(a){ug(this,a.position);this.Jc=r};v.zc=function(a){this.qc=a.position;this.Jc&&vg(this)};v.pc=function(){this.Za!=n&&(clearInterval(this.Za),this.Za=n)};v.Wb=function(a){a.preventDefault();0!=a.Tc&&(this.pc(),tg(this,n))};v.Vg=function(a){ug(this,new N(a.x,a.y))};
v.Nf=function(a){a.$e!=n&&(a=(new O(this.qc.x,this.qc.y)).add(a.$e),a=new Rf([this.qc.x,this.qc.y],[a.x,a.y],500,Uf),W(a,"animate",B(this.Vg,this)),W(a,"end",B(this.Wg,this)),tg(this,a))};var tg=function(a,b){a.ha!=n&&(a.ha.Ua(),a.ha=n);a.ha=b;a.ha!=n&&a.ha.play()};var $=function(a,b,c){sg.call(this,a);this.k=b;this.A=c};C($,sg);$.prototype.Bc=function(a){$.u.Bc.call(this,a);De(this.k,a.position.x,a.position.y,this.Rb)};$.prototype.zc=function(a){this.A.xa=r;this.A.D();$.u.zc.call(this,a)};var vg=function(a){a.Za==n&&(a.A.xa=m,a.Za=setInterval(B(function(){this.k.move(0,-0.005);this.A.D()},a),35))};$.prototype.pc=function(){this.A.xa=r;$.u.pc.call(this)};
var ug=function(a,b){var c=new O(0,0);De(a.k,b.x,b.y,c);qe(a.k,a.k.J+(a.Rb.x-c.x),a.k.fa+(a.Rb.y-c.y));De(a.k,b.x,b.y,a.Rb);a.A.xa=m;a.A.D()};$.prototype.Wb=function(a){$.u.Wb.call(this,a);var b=Number.NaN,c=this.k.Pb;2==a.ng?b=2.4-c<1.4*0.1?1:2.4:0!=a.Tc&&(b=c+a.Tc);isNaN(b)||(this.ha=new Rf([c],[b],300,Uf),W(this.ha,"animate",B(this.og,this)),this.ha.play())};$.prototype.og=function(a){var b=this.k;a=Math.min(Math.max(a.x,1),2.4);a!=b.Pb&&(b.Pb=a,we(b),xe(b));this.A.D()};
$.prototype.Wg=function(){this.A.xa=r;this.A.D()};var wg=function(a){this.i=a};wa("EmbeddedPanoViewer",wg);var xg=new Fa(100,92);
wg.prototype.mb=function(){document.body.style.cursor="move";this.Qa=new Le("images/photo_sphere_overlay.png",xg);this.Qa.D(document.body);W(document.body,"mouseover",B(this.Qa.Lc,this.Qa));W(document.body,"mouseout",B(function(a){this.me.Za==n&&(!a.relatedTarget||!Lc(this.i,a.relatedTarget))&&this.Qa.show()},this));wd=m;Ue=1800;Df=1;W(window,"resize",B(this.le,this));this.k=new re(this.i.width,this.i.height);this.A=new Cf(this.i,this.k);this.me=new $(this.i,this.k,this.A);yg(this);this.le();"1"==zg("autorotate")&&
(this.Qa.Lc(),vg(this.me));Fd&&Xd(window,["mousemove","touchmove"],B(function(){this.Qa.Lc()},this))};wa("EmbeddedPanoViewer.prototype.init",wg.prototype.mb);
wg.prototype.le=function(){var a,b=a=0;"number"==typeof window.innerWidth?(a=window.innerWidth,b=window.innerHeight):(a=document.documentElement.clientWidth,b=document.documentElement.clientHeight);a=new Fa(a,b);var b=this.Qa,c=a.height/2-b.ge.height/2;b.I.style.left=a.width/2-b.ge.width/2+"px";b.I.style.top=c+"px";if(this.i.width!=a.width||this.i.height!=a.height)this.i.width=a.width,this.i.height=a.height,ad(this.i,a.width,a.height),this.k!=n&&this.A!=n&&(pe(this.k,a.width,a.height),a=this.A,a.ra!=
n&&zd()&&Ff(a,a.ra),this.A.D())};
var yg=function(a){var b=zg("imageurl"),c=zg("fullsize"),d=zg("croppedsize"),e=zg("offset"),f=zg("displaysize");b&&(c&&d&&e)&&(f||(f="800,600"),c=c.split(","),d=d.split(","),e=e.split(","),f=f.split(","),2!=c.length||(2!=d.length||2!=e.length||2!=f.length)||(b=new Uc(b,parseInt(c[0],10),parseInt(c[1],10),parseInt(d[0],10),parseInt(d[1],10),parseInt(e[0],10),parseInt(e[1],10)),Ff(a.A,b),a=["",{width:parseInt(f[0],10),height:parseInt(f[1],10)}],f="1"===Ad(window.location.href,"usegapi"),Bd(f,a)))},
zg=function(a){var b,c=window.location.href,d=RegExp("([#].*&|[#])"+a+"=([^&#]*)","g");a=RegExp("([?#].*&|[?#])"+a+"=([^&#]*)","g");if(c=c&&(d.exec(c)||a.exec(c)))try{b=decodeURIComponent(c[2])}catch(e){}return b};
